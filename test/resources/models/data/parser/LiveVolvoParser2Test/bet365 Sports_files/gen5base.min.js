"use strict";
function extend(n, t) {
  function i() {
    this.constructor = n
  }

  return i.prototype = n.prototype, t.prototype = new i, n
}
function goToTop() {
  window.scrollTo(0, 0)
}
function $log(n) {
  InfoReporter.Trace(n)
}
function $ots() {
  Locator.otsReport._generate();
  "console"in window && console.log(Locator.otsReport._message)
}
function $dir() {
}
function $now() {
}
function $stem(n) {
  "dir"in console && console.dir(Locator.treeLookup.getReference(n))
}
function cycleid() {
  return"Locator"in window && Locator.validationManager
    ? Locator.validationManager.cyclecount
    : 0
}
function FastClick(n) {
  var i, t = this;
  if (this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = 10, this.layer = n, !n ||
    !n.nodeType)throw new TypeError("Layer must be a document node");
  (this.onClick = function () {
    return FastClick.prototype.onClick.apply(t, arguments)
  }, this.onMouse = function () {
    return FastClick.prototype.onMouse.apply(t, arguments)
  }, this.onTouchStart = function () {
    return FastClick.prototype.onTouchStart.apply(t, arguments)
  }, this.onTouchMove = function () {
    return FastClick.prototype.onTouchMove.apply(t, arguments)
  }, this.onTouchEnd = function () {
    return FastClick.prototype.onTouchEnd.apply(t, arguments)
  }, this.onTouchCancel = function () {
    return FastClick.prototype.onTouchCancel.apply(t, arguments)
  }, FastClick.notNeeded(n)) || (this.deviceIsAndroid &&
    (n.addEventListener("mouseover", this.onMouse, !0), n.addEventListener("mousedown", this.onMouse, !0), n.addEventListener("mouseup", this.onMouse,
      !0)), n.addEventListener("click", this.onClick, !0), n.addEventListener("touchstart", this.onTouchStart, !1), n.addEventListener("touchmove",
    this.onTouchMove, !1), n.addEventListener("touchend", this.onTouchEnd, !1), n.addEventListener("touchcancel", this.onTouchCancel,
    !1), Event.prototype.stopImmediatePropagation || (n.removeEventListener = function (t, i, r) {
    var u = Node.prototype.removeEventListener;
    t === "click"
      ? u.call(n, t, i.hijacked || i, r)
      : u.call(n, t, i, r)
  }, n.addEventListener = function (t, i, r) {
    var u = Node.prototype.addEventListener;
    t === "click"
      ? u.call(n, t, i.hijacked || (i.hijacked = function (n) {
      n.propagationStopped || i(n)
    }), r)
      : u.call(n, t, i, r)
  }), typeof n.onclick == "function" && (i = n.onclick, n.addEventListener("click", function (n) {
    i(n)
  }, !1), n.onclick = null))
}
function LongClick(n, t, i) {
  var r = this;
  if (this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.touchBoundary = 10, this.time = t, this.handler = i, this.timer = null, this.layer = n, !n ||
    !n.nodeType)throw new TypeError("Layer must be a document node");
  this.onTouchStart = function () {
    return LongClick.prototype.onTouchStart.apply(r, arguments)
  };
  this.onTouchMove = function () {
    return LongClick.prototype.onTouchMove.apply(r, arguments)
  };
  this.onTouchEnd = function () {
    return LongClick.prototype.onTouchEnd.apply(r, arguments)
  };
  this.onTouchCancel = function () {
    return LongClick.prototype.onTouchCancel.apply(r, arguments)
  };
  window.navigator.msPointerEnabled
    ? (this.startEventName = "MSPointerDown", this.moveEventName = "MSPointerMove", this.endEventName = "MSPointerUp", this.cancelEventName = "MSPointerCancel")
    : (this.startEventName = "touchstart", this.moveEventName = "touchmove", this.endEventName = "touchend", this.cancelEventName = "touchcancel");
  n.addEventListener(this.startEventName, this.onTouchStart, !1);
  n.addEventListener(this.moveEventName, this.onTouchMove, !1);
  n.addEventListener(this.endEventName, this.onTouchEnd, !1);
  n.addEventListener(this.cancelEventName, this.onTouchCancel, !1)
}
var ns_gen5_data = {}, ns_gen5_events = {}, ns_gen5_util = {}, ns_gen5_validation = {}, ns_gen5_language = {}, ns_gen5_ui = {}, readit = {}, ANIMATION_END, $log_log, $setFooter, InfoReporter, ErrorReporter, pushConnectionStatusEnum, ns_betslip, Locator;
(function () {
  var u = document.createElement("div"), i = u.style, r, t, n;
  for (i.animation === ""
         ? ANIMATION_END = "animationend"
         : i.webkitAnimation === ""
    ? ANIMATION_END = "webkitAnimationEnd"
    : i.mozAnimation === ""
    ? ANIMATION_END = "mozAnimationEnd"
    : i.msAnimation === "" && (ANIMATION_END = "msAnimationEnd"), r = 0, t = ["webkit", "moz"], n = 0; n < t.length &&
         !window.requestAnimationFrame; ++n)window.requestAnimationFrame = window[t[n] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[n] +
    "CancelAnimationFrame"] || window[t[n] + "CancelRequestAnimationFrame"];
  window.requestAnimationFrame || (window.requestAnimationFrame = function (n) {
    var t = (new Date).getTime(), i = Math.max(0, 16 - (t - r)), u = window.setTimeout(function () {
      n(t + i)
    }, i);
    return r = t + i, u
  });
  window.cancelAnimationFrame || (window.cancelAnimationFrame = function (n) {
    clearTimeout(n)
  })
})(), function () {
  Array.prototype.indexOf || (Array.prototype.indexOf = function (n, t) {
    t || (t = 0);
    for (var i = t, r = this.length; i < r; i++)if (this[i] === n)return i;
    return-1
  })
}();
$log_log = "";
$setFooter = "setFooter"in window
  ? setFooter
  : function () {
};
InfoReporter = function () {
  function n() {
  }

  return n._log = [], n.getLog = function () {
    return n._log
  }, n.Trace = function (t) {
    n._log.push(new Date + " " + t)
  }, n
}();
ErrorReporter = function () {
  function n() {
  }

  return n._log = [], n.getLog = function () {
    return n._log
  }, n.Trace = function (t, i) {
    var r = i.stack || i && i.message || i;
    $log(t, r);
    n._log.push(new Date + " " + t + " " + r)
  }, n
}(), function () {
  window.makeSafeForCSS || (window.makeSafeForCSS = function (n) {
    return n && n.replace
      ? n.replace(/[^a-z0-9]/g, function (n) {
      var t = n.charCodeAt(0);
      return t == 32
        ? "-"
        : t >= 65 && t <= 90
        ? "_" + n.toLowerCase()
        : "__" + ("000" + t.toString(16)).slice(-4)
    })
      : ""
  })
}(), function () {
  window.safeSessionStorage || (window.safeSessionStorage = function () {
    function n() {
    }

    function t() {
      this._store = {}
    }

    var i = "test-string", r = function () {
      try {
        if (window.sessionStorage)return window.sessionStorage.setItem(i, i), window.sessionStorage.removeItem(i), !0
      }
      catch (n) {
        ErrorReporter.Trace(null, n)
      }
      return!1
    }();
    return n.prototype.setItem = function (n, t) {
      try {
        window.sessionStorage && window.sessionStorage.setItem(n, t)
      }
      catch (i) {
      }
    }, n.prototype.getItem = function (n) {
      try {
        if (window.sessionStorage)return window.sessionStorage.getItem(n)
      }
      catch (t) {
      }
      return null
    }, n.prototype.removeItem = function (n) {
      try {
        window.sessionStorage && window.sessionStorage.removeItem(n)
      }
      catch (t) {
      }
    }, t.prototype.setItem = function (n, t) {
      this._store[n] = t
    }, t.prototype.getItem = function (n) {
      return this._store[n]
    }, t.prototype.removeItem = function (n) {
      delete this._store[n]
    }, r
      ? new n
      : new t
  }())
}();
FastClick.prototype.deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0;
FastClick.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent);
FastClick.prototype.deviceIsIOS4 = FastClick.prototype.deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent);
FastClick.prototype.deviceIsIOSWithBadTarget = FastClick.prototype.deviceIsIOS && /OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);
FastClick.prototype.needsClick = function (n) {
  switch (n.nodeName.toLowerCase()) {
    case"button":
    case"select":
    case"textarea":
      if (n.disabled)return!0;
      break;
    case"input":
      if (this.deviceIsIOS && n.type === "file" || n.disabled)return!0;
      break;
    case"label":
    case"video":
      return!0
  }
  return/\bneedsclick\b/.test(n.className)
};
FastClick.prototype.needsFocus = function (n) {
  switch (n.nodeName.toLowerCase()) {
    case"textarea":
    case"select":
      return!0;
    case"input":
      switch (n.type) {
        case"button":
        case"checkbox":
        case"file":
        case"image":
        case"radio":
        case"submit":
          return!1
      }
      return!n.disabled && !n.readOnly;
    default:
      return/\bneedsfocus\b/.test(n.className)
  }
};
FastClick.prototype.sendClick = function (n, t) {
  var r, i;
  document.activeElement && document.activeElement !== n && document.activeElement.blur();
  i = t.changedTouches[0];
  r = document.createEvent("MouseEvents");
  r.initMouseEvent("click", !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null);
  r.forwardedTouchEvent = !0;
  n.dispatchEvent(r)
};
FastClick.prototype.focus = function (n) {
  var t;
  this.deviceIsIOS && n.setSelectionRange
    ? (t = n.value.length, n.setSelectionRange(t, t))
    : n.focus()
};
FastClick.prototype.updateScrollParent = function (n) {
  var i, t;
  if (i = n.fastClickScrollParent, !i || !i.contains(n)) {
    t = n;
    do {
      if (t.scrollHeight > t.offsetHeight) {
        i = t;
        n.fastClickScrollParent = t;
        break
      }
      t = t.parentElement
    } while (t)
  }
  i && (i.fastClickLastScrollTop = i.scrollTop)
};
FastClick.prototype.getTargetElementFromEventTarget = function (n) {
  return n.nodeType === Node.TEXT_NODE
    ? n.parentNode
    : n
};
FastClick.prototype.onTouchStart = function (n) {
  var i, t, r;
  if (n.targetTouches.length > 1)return!0;
  if (i = this.getTargetElementFromEventTarget(n.target), t = n.targetTouches[0], this.deviceIsIOS) {
    if (r = window.getSelection(), r.rangeCount && !r.isCollapsed)return!0;
    if (!this.deviceIsIOS4) {
      if (t.identifier === this.lastTouchIdentifier)return n.preventDefault(), !1;
      this.lastTouchIdentifier = t.identifier;
      this.updateScrollParent(i)
    }
  }
  return this.trackingClick = !0, this.trackingClickStart = n.timeStamp, this.targetElement = i, this.touchStartX = t.pageX, this.touchStartY = t.pageY, n.timeStamp -
    this.lastClickTime < 200 && n.preventDefault(), !0
};
FastClick.prototype.touchHasMoved = function (n) {
  var t = n.changedTouches[0], i = this.touchBoundary;
  return Math.abs(t.pageX - this.touchStartX) > i || Math.abs(t.pageY - this.touchStartY) > i
    ? !0
    : !1
};
FastClick.prototype.onTouchMove = function (n) {
  return this.trackingClick
    ? ((this.targetElement !== this.getTargetElementFromEventTarget(n.target) || this.touchHasMoved(n)) &&
    (this.trackingClick = !1, this.targetElement = null), !0)
    : !0
};
FastClick.prototype.findControl = function (n) {
  return n.control !== undefined
    ? n.control
    : n.htmlFor
    ? document.getElementById(n.htmlFor)
    : n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
};
FastClick.prototype.onTouchEnd = function (n) {
  var u, e, i, r, f, t = this.targetElement;
  if (!this.trackingClick)return!0;
  if (n.timeStamp - this.lastClickTime < 200)return this.cancelNextClick = !0, !0;
  if (this.lastClickTime = n.timeStamp, e = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, this.deviceIsIOSWithBadTarget &&
    (f = n.changedTouches[0], t = document.elementFromPoint(f.pageX - window.pageXOffset, f.pageY - window.pageYOffset) ||
      t, t.fastClickScrollParent = this.targetElement.fastClickScrollParent), i = t.tagName.toLowerCase(), i === "label") {
    if (u = this.findControl(t), u) {
      if (this.focus(t), this.deviceIsAndroid)return!1;
      t = u
    }
  }
  else if (this.needsFocus(t))return n.timeStamp - e > 100 || this.deviceIsIOS && window.top !== window && i === "input"
    ? (this.targetElement = null, !1)
    : (this.focus(t), this.deviceIsIOS4 && i === "select" || (this.targetElement = null, n.preventDefault()), !1);
  return this.deviceIsIOS && !this.deviceIsIOS4 && (r = t.fastClickScrollParent, r && r.fastClickLastScrollTop !== r.scrollTop)
    ? !0
    : (this.needsClick(t) || (n.preventDefault(), this.sendClick(t, n)), !1)
};
FastClick.prototype.onTouchCancel = function () {
  this.trackingClick = !1;
  this.targetElement = null
};
FastClick.prototype.onMouse = function (n) {
  return this.targetElement
    ? n.forwardedTouchEvent
    ? !0
    : n.cancelable
    ? !this.needsClick(this.targetElement) || this.cancelNextClick
    ? (n.stopImmediatePropagation
    ? n.stopImmediatePropagation()
    : n.propagationStopped = !0, n.stopPropagation(), n.preventDefault(), !1)
    : !0
    : !0
    : !0
};
FastClick.prototype.onClick = function (n) {
  var t;
  return this.trackingClick
    ? (this.targetElement = null, this.trackingClick = !1, !0)
    : n.target.type === "submit" && n.detail === 0
    ? !0
    : (t = this.onMouse(n), t || (this.targetElement = null), t)
};
FastClick.prototype.destroy = function () {
  var n = this.layer;
  this.deviceIsAndroid &&
  (n.removeEventListener("mouseover", this.onMouse, !0), n.removeEventListener("mousedown", this.onMouse, !0), n.removeEventListener("mouseup", this.onMouse,
    !0));
  n.removeEventListener("click", this.onClick, !0);
  n.removeEventListener("touchstart", this.onTouchStart, !1);
  n.removeEventListener("touchmove", this.onTouchMove, !1);
  n.removeEventListener("touchend", this.onTouchEnd, !1);
  n.removeEventListener("touchcancel", this.onTouchCancel, !1)
};
FastClick.notNeeded = function (n) {
  var t;
  if (typeof window.ontouchstart == "undefined")return!0;
  if (/Chrome\/[0-9]+/.test(navigator.userAgent))if (FastClick.prototype.deviceIsAndroid) {
    if (t = document.querySelector("meta[name=viewport]"), t && t.content.indexOf("user-scalable=no") !== -1)return!0
  }
  else return!0;
  return FastClick.prototype.deviceIsAndroid && navigator.userAgent.toLowerCase().search(/android 2\.1/) >= 0
    ? !0
    : n.style.msTouchAction === "none"
    ? !0
    : !1
};
FastClick.attach = function (n) {
  return new FastClick(n)
};
typeof define != "undefined" && define.amd
  ? define(function () {
  return FastClick
})
  : typeof module != "undefined" && module.exports
  ? (module.exports = FastClick.attach, module.exports.FastClick = FastClick)
  : window.FastClick = FastClick;
LongClick.prototype.onTouchStart = function (n) {
  var i, t;
  if (n.targetTouches && n.targetTouches.length === 1)t = n.targetTouches[0];
  else if (n.pageX && n.pageY)t = n;
  else return!0;
  return i = n.target, this.trackingClick = !0, this.trackingClickStart = n.timeStamp, this.targetElement = i, this.touchStartX = t.pageX, this.touchStartY = t.pageY, this.timer = window.setTimeout(this.handler,
    this.time), !0
};
LongClick.prototype.touchHasMoved = function (n) {
  var t, i = this.touchBoundary;
  return t = n.changedTouches
    ? n.changedTouches[0]
    : n, Math.abs(t.pageX - this.touchStartX) > i || Math.abs(t.pageY - this.touchStartY) > i
};
LongClick.prototype.onTouchMove = function (n) {
  return this.trackingClick
    ? ((this.targetElement !== n.target || this.touchHasMoved(n)) && this.reset(), !0)
    : !0
};
LongClick.prototype.onTouchEnd = function (n) {
  return this.trackingClick
    ? n.timeStamp - this.trackingClickStart < this.time
    ? (this.reset(), !0)
    : !1
    : !0
};
LongClick.prototype.reset = function () {
  this.timer && window.clearTimeout(this.timer);
  this.trackingClick = !1;
  this.trackingClickStart = null;
  this.targetElement = null
};
LongClick.prototype.onTouchCancel = function () {
  this.reset()
};
LongClick.prototype.destroy = function () {
  var n = this.layer;
  n.removeEventListener(this.startEventName, this.onTouchStart, !1);
  n.removeEventListener(this.moveEventName, this.onTouchMove, !1);
  n.removeEventListener(this.endEventName, this.onTouchEnd, !1);
  n.removeEventListener(this.cancelEventName, this.onTouchCancel, !1)
};
LongClick.attach = function (n, t, i) {
  return new LongClick(n, t, i)
};
ns_gen5_util.LogEntry = function () {
  function n(n) {
    this.message = n;
    this.timestamp = new Date
  }

  return n.prototype.toString = function () {
    return"[" + this.timestamp + "] - " + this.message
  }, n
}();
ns_gen5_util.AjaxLoader = function () {
  function i(t, i) {
    var o, s, f, u = [], r, e, h;
    if (u.splice(0, 0, document.getElementsByTagName("script")), h = !1, t.src)for (r = 0, e = u.length; r < e; r++)if (u[r].src &&
      u[r].src.split("?")[0] == t.src.split("?")[0]) {
      h = !0;
      break
    }
    if (h)i && i();
    else {
      if (s = document.head ||
        document.getElementsByTagName("head")[0], f = document.createElement("script"), f.type = "text/javascript", t.src)f.src = t.src, f.onerror = f.onload = i;
      else {
        for (o = n(t), r = 0, e = u.length; r < e; r++)n(u[r]) == o && u[r].parentNode.removeChild(u[r]);
        f.appendChild(document.createTextNode(o));
        i && i()
      }
      s.appendChild(f, s.firstChild);
      t.parentNode && t.parentNode.removeChild(t)
    }
  }

  function n(n) {
    return n.text || n.textContent || n.innerHTML || ""
  }

  function t(n, r, u) {
    r < n.length
      ? i(n[r], function () {
      t(n, ++r, u)
    })
      : u && u()
  }

  return{load: function (n, t, i) {
    var r = new XMLHttpRequest;
    r.onreadystatechange = function () {
      r.readyState == 4 && (r.status == 200
        ? (t.innerHTML = r.responseText, i && i())
        : $log("MatchLive markup request failed, status: " + r.status), r.onreadystatechange = null)
    };
    r.open("GET", n, !0);
    r.send("")
  }, loadAndExecute: function (n, t, i) {
    ns_gen5_util.AjaxLoader.load(n, t, function () {
      ns_gen5_util.AjaxLoader.processScripts(t, i)
    })
  }, processScripts: function (n, i) {
    for (var u = [], r = n.getElementsByTagName("script"), f = r.length; f--;)r[0].type && r[0].type.toLowerCase() !== "text/javascript" ||
    u.push(r[0].parentNode
      ? r[0].parentNode.removeChild(r[0])
      : r[0]);
    t(u, 0, i)
  }}
}();
ns_gen5_util.EventTrigger = function () {
  return{triggerEventOnElement: function (n, t, i) {
    var r;
    document.createEvent
      ? (r = document.createEvent("HTMLEvents"), r.initEvent(t, !0, !0))
      : (r = document.createEventObject(), r.eventType = t);
    r.eventName = t;
    r.data = i || {};
    document.createEvent
      ? document.dispatchEvent(r)
      : document.fireEvent("on" + r.eventType, r)
  }}
}();
ns_gen5_util.Delegate = function () {
  function n(n, t) {
    this.scope = n;
    this.method = t
  }

  return n.prototype.toString = function () {
    return"[Delegate scope=" + this.scope + "]"
  }, n.prototype.next = null, n.CreateCallback = function (n, t) {
    for (var r = [], i = 0; i < arguments.length - 2; i++)r[i] = arguments[i + 2];
    return function () {
      return t.apply(n, r)
    }
  }, n
}();
ns_gen5_util.OddsType = {FRACTIONAL: 1, DECIMAL: 2, AMERICAN: 3};
ns_gen5_util.OddsConverter = function () {
  var n = {}, t = {}, i = {};
  return n.MinOdds = 0, n.NOT_OFFERED = "n/o", n.ConvertOddsDecimal = function (i, r, u) {
    var s, c, h, f, e, o, l, a;
    if (r || r == 0 || (r = 2), u || u == !1 || (u = !0), s = i + r, u && (t[s] || !i))return t[s];
    if (h = i.indexOf("/", 1), h > -1)if (c = [i.slice(0, h), i.slice(++h)], f = Number((c[0] >> 0) / (c[1] >> 0) + (u
      ? 1
      : 0)).toFixed(4), Number(f) < 1.1 && f.split(".")[1].length > 2 && (r = 3), e = 0, o = f.indexOf(".", 1), n.MinOdds > 1 &&
      Number(f) < n.MinOdds)f = n.NOT_OFFERED;
    else if (r == 0)f = f.slice(0, o > -1
      ? o
      : 2147483647);
    else if (o > -1)if (e = r - (f.length - ++o), e > 0)for (l = 0; l < e; l++)f += "0";
    else e < 0 && (f = f.slice(0, f.length + e));
    else for (f += ".", a = 0; a < r; a++)f += "0";
    return u && (t[s] = f), f
  }, n.ConvertOddsUS = function (t) {
    if (i[t] || !t)return i[t];
    var u, f, e = t.indexOf("/", 1), o, s, r;
    return e > -1 && (f = [t.slice(0, e), t.slice(++e)], o = f[0], s = f[1], r = o / s, u = n.MinOdds > 0 && r + 1 < n.MinOdds
      ? n.NOT_OFFERED
      : r > .999999
      ? "+" + String(r * 100 + .5 | 0)
      : "-" + String(s / o * 100 + .5 | 0)), i[t] = u, u
  }, n.AreOddsBelowMinimum = function (t) {
    return n.MinOdds <= 1
      ? !1
      : n.ConvertOddsDecimal(t, 4) == n.NOT_OFFERED
  }, n
}();
ns_gen5_events.Event365 = function () {
  function n(n) {
    this.type = n
  }

  return n.prototype.toString = function () {
    return"[Event365 type=" + this.type + "]"
  }, n.prototype.stopPropagation = !1, n.prototype.target = null, n.prototype.currentTarget = null, n
}();
ns_gen5_events.EventDispatcher = function () {
  function i(n) {
    this.first = this.last = n
  }

  function t(n) {
    this.item = n
  }

  function n() {
    this._eRegister = {}
  }

  var r = ns_gen5_util.Delegate, u = ns_gen5_events.Event365;
  return i.prototype.toString = function () {
    return"[EventDispatcher::ListStub]"
  }, t.prototype.toString = function () {
    return"[EventDispatcher::ListItem]"
  }, t.prototype.next = null, n.prototype.toString = function () {
    return"[EventDispatcher]"
  }, n.prototype.addEventListener = function (n, r) {
    if (r) {
      var u = this._eRegister[n];
      u
        ? u.last = u.last.next = new t(r)
        : this._eRegister[n] = new i(new t(r))
    }
    else throw new Error("handlerDelegate must be defined.");
  }, n.prototype.dispatchEvent = function (n) {
    var u = this._eRegister[n.type], r, t, i;
    if (n.target
      ? n.currentTarget = this
      : n.target = n.currentTarget = this, u)for (t = u.first; t;) {
      r = t.item;
      i = t.next;
      try {
        r.method.call(r.scope, n)
      }
      catch (f) {
        ErrorReporter.Trace(this, f)
      }
      t = t.next || i && i.item && i
    }
  }, n.prototype.bubbleEvent = function (n) {
    if (this.dispatchEvent(n), !n.stopPropagation)for (var t = this.parent; t;) {
      if (t.bubbleEvent) {
        t.bubbleEvent(n);
        break
      }
      t = t.parent
    }
  }, n.BubbleEvent = function (n, t) {
    n.target = n.currentTarget = t;
    for (var i = t.parent; i;) {
      if (i.bubbleEvent) {
        i.bubbleEvent(n);
        break
      }
      i = i.parent
    }
  }, n.prototype.removeEventListener = function (n, t) {
    var r = this._eRegister[n], f, u, i;
    if (r) {
      for (u = null, i = r.first; i;) {
        if (f = i.item, f.method == t.method && f.scope == t.scope) {
          u
            ? u.next = i.next
            : r.first = i.next;
          i.next || (r.last = u);
          i.next = null;
          i.item = null;
          break
        }
        u = i;
        i = i.next
      }
      r.last || delete this._eRegister[n]
    }
  }, n.Mixin = function (t) {
    t.addEventListener = n.prototype.addEventListener;
    t.removeEventListener = n.prototype.removeEventListener;
    t.dispatchEvent = n.prototype.dispatchEvent;
    t.bubbleEvent = n.prototype.bubbleEvent
  }, n
}();
ns_gen5_events.ApplicationEvent = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.LOADING = "loading", n.LOADING_COMPLETE = "loadingComplete", n.LOADING_TIMEOUT = "loadingTimeout", n.UNLOADING = "unloading", n.WIDTH_STATE_CHANGED = "widthStateChanged", n.HEIGHT_CHANGED = "heightChanged", n.FOCUS_IN = "focusIn", n.FOCUS_OUT = "focusOut", n
}();
ns_gen5_util.ManifestManager = function () {
  function n(n) {
    this._manifest = n
  }

  return n.prototype.toString = function () {
    return"[ManifestManager]"
  }, n.prototype.getManifest = function () {
    return this._manifest
  }, n.prototype.resolveCSSPath = function (n, t) {
    var i = this._manifest[t];
    return i.style.path.replace("{version}", i.style.version).replace("{filepath}", n.path)
  }, n.prototype.resolveScriptPath = function (n, t) {
    var i = this._manifest[t];
    return i.script.path.replace("{version}", i.script.version).replace("{filepath}", n.path)
  }, n.prototype.resolveResourcePath = function (n, t) {
    var i = this._manifest[t], r = n + ".json";
    return i.language.path.replace("{version}", i.language.version).replace("{filepath}", r)
  }, n
}();
ns_gen5_util.TimerEvent = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.COMPLETE = "complete", n.TICK = "tick", n
}();
ns_gen5_util.Timer = function () {
  function n(n, t) {
    i.call(this);
    this.time = n;
    this.repeats = t || 0;
    this.ticks = 0;
    var r = this;
    this._callback_tickHandler = function () {
      r._tickHandler()
    }
  }

  var i = extend(ns_gen5_events.EventDispatcher, n), t = ns_gen5_util.TimerEvent;
  return n.prototype.toString = function () {
    return"[Timer]"
  }, n.prototype._timeStarted = null, n.prototype._timerid = -1, n.prototype._timeRemaining = 0, n.prototype.start = function () {
    var t = this, n = this._timeRemaining || this.time;
    this._timeRemaining = 0;
    this._timeStarted = new Date;
    this._timerid = setTimeout(this._callback_tickHandler, n);
    this.active = !0
  }, n.prototype.reset = function () {
    this._timerid > -1 && (clearTimeout(this._timerid), this._timerid = -1, this.ticks = 0, this._timeRemaining = 0, this.active = !1)
  }, n.prototype.stop = function () {
    this._timerid > -1 &&
    (this._timeRemaining = this.time - ((new Date).getTime() - this._timeStarted.getTime()), clearTimeout(this._timerid), this._timerid = -1, this.active = !1)
  }, n.prototype._tickHandler = function () {
    this.repeats > -1 && ++this.ticks >= this.repeats
      ? (this.dispatchEvent(new t(t.COMPLETE)), this.active = !1)
      : (this.dispatchEvent(new t(t.TICK)), this.start())
  }, n
}();
ns_gen5_util.TimeManagerEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.date = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.prototype.toString = function () {
    return"[TimeManagerEvent type=" + this.type + "]"
  }, n.TICK = "tick", n
}();
ns_gen5_util.TimeManager = function () {
  function n() {
    i.call(this);
    this._tickid = -1;
    var n = this;
    this._callback_serverTime_tick = function () {
      n._serverTime_tick()
    }
  }

  var i = extend(ns_gen5_events.EventDispatcher, n), r = ns_gen5_util.Delegate, t = ns_gen5_util.TimeManagerEvent;
  return n.prototype.toString = function () {
    return"[TimeManager]"
  }, n.prototype.getTime = function () {
    return this._serverTime
  }, n.ParseDate = function (n, t) {
    var i = new Date(Number(n.slice(0, 4)), Number(n.slice(4, 6)) - 1, Number(n.slice(6, 8)), Number(n.slice(8, 10)), Number(n.slice(10, 12)),
      Number(n.slice(12, 14)));
    return t || t == !1 || (t = !0), t, i
  }, n.prototype.setServerTime = function (t) {
    this._serverTime || (Locator.validationManager.callLater(this._callback_serverTime_tick), this._lastUpdatedMS = (new Date).getTime());
    this._serverTime = n.ParseDate(t, !1);
    this._clientTime = new Date(this._serverTime.getTime())
  }, n.prototype._serverTime_tick = function () {
    var i = (new Date).getTime(), n = this._serverTime.getMilliseconds() + (i - this._lastUpdatedMS);
    n < 1e3 && (n = 1e3);
    this._serverTime.setMilliseconds(n);
    this._lastUpdatedMS = i;
    this.dispatchEvent(new t(t.TICK, this._serverTime));
    this._tickid = setTimeout(this._callback_serverTime_tick, 1e3)
  }, n
}();
ns_gen5_util.PrintDump = function () {
  function n(i, r) {
    r || (r = 0);
    for (var u = "", f, e, o = "", h = t(i), s = 0; s < r; s++)o += "  ";
    switch (h) {
      case"string":
        return'"' + i + '"';
      case"number":
        return i.toString();
      case"boolean":
        return i
          ? "true"
          : "false";
      case"date":
        return"Date: " + i.toLocaleString();
      case"array":
        for (u += "List ( \n", f = 0; f < i.length; f++)u += o + "  " + f + " => " + n(i[f], r + 1) + "\n";
        u += o + ")";
        break;
      case"object":
        u += "\n";
        for (e in i)i.hasOwnProperty(e) && (u += o + "  " + e + ": " + n(i[e], r + 1) + "\n");
        break;
      default:
        u += "N/A: " + h
    }
    return u
  }

  function t(n) {
    var t = typeof n;
    if (t !== "object")return t;
    switch (n) {
      case null:
        return"null"
    }
    switch (n.constructor) {
      case Array:
        return"array";
      case Boolean:
        return"boolean";
      case Date:
        return"date";
      case Number:
        return"number";
      case Object:
        return"object"
    }
    return"Unknown"
  }

  function i(t) {
    return n(t)
  }

  return i
}();
ns_gen5_util.OTSReport = function () {
  function t() {
    this._message = ""
  }

  function i(t) {
    var i = " -------------------- ";
    return"*" + i + t + i + "*" + n
  }

  var n = "\t\r\n";
  return t.prototype._generate = function () {
    this._message = this._appendSummary();
    this._message = this._message.concat(this._appendNavigationHistory());
    this._message = this._message.concat(this._appendManifest());
    this._message = this._message.concat(this._appendSiteProps());
    this._message = this._message.concat(this._appendSettings());
    this._message = this._message.concat(this._appendNavigator());
    this._message = this._message.concat(this._appendModernizer());
    this._message = this._message.concat(this._appendReadIt());
    this._message = this._message.concat(this._appendErrorLog());
    this._message = this._message.concat(this._appendTraceLog())
  }, t.prototype.send = function () {
    this._generate();
    var n = new XMLHttpRequest;
    n.open("POST", "LogHandler.ashx?lvl=2", !0);
    n.onreadystatechange = function () {
      n.readyState === 4 && n.status === 200
    };
    n.send(this._message);
    this._message = ""
  }, t.prototype._appendSiteProps = function () {
    return"sProps"in window
      ? i("Site Properties") + ns_gen5_util.PrintDump(sProps)
      : ""
  }, t.prototype._appendManifest = function () {
    var r, f, t, u = Locator.manifestManager.getManifest();
    t = i("Manifest");
    t = t.concat("MasterVersion:" + u.version + n);
    for (r in u)if (u.hasOwnProperty(r)) {
      t = t.concat(r + ":" + n);
      for (f in u[r])u[r].hasOwnProperty(f) && (t = t.concat("  " + f + ":" + u[r][f].version + n));
      t = t.concat(n)
    }
    return t
  }, t.prototype._appendSettings = function () {
    var t, r, u = Locator.user;
    t = i("User");
    for (r in u)u.hasOwnProperty(r) && (t = t.concat(r + ":" + u[r] + n));
    return t
  }, t.prototype._appendModernizer = function () {
    if ("Modernizr"in window) {
      var u, t, r = Modernizr;
      u = i("Modernizer");
      for (t in r)r.hasOwnProperty(t) && typeof r[t] != "function" && typeof r[t] != "object" && (u = u.concat(t + ":" + r[t] + n))
    }
    return u
  }, t.prototype._appendSummary = function () {
    var t = "";
    return t = t.concat("Current Url:" + window.location.href + n), t.concat("Current time:" + new Date + n)
  }, t.prototype._appendNavigator = function () {
    var t, r = window.navigator;
    return t = i("Navigator"), t = t.concat("UserAgent:" + r.userAgent + n), t = t.concat("Language:" + (r.language || r.userLanguage) +
      n), t = t.concat("Vendor:" + r.vendor + n), t.concat("Platform:" + r.platform + n)
  }, t.prototype._appendNavigationHistory = function () {
    if ("hashHistory"in window) {
      var u = hashHistory, t, r;
      if (t = i("Navigation History"), u)for (r = 0; r < u.length; r++)t = t.concat(u[r] + n)
    }
    return t
  }, t.prototype._appendReadIt = function () {
    for (var u = readit.ReadItLog.getLog(), t = i("ReadIt"), r = 0; r < u.length; r++)t = t.concat(u[r].toString() + n);
    return t
  }, t.prototype._appendErrorLog = function () {
    for (var u = ErrorReporter.getLog(), t = i("Error Reporter"), r = 0; r < u.length; r++)t = t.concat(u[r] + n);
    return t
  }, t.prototype._appendTraceLog = function () {
    for (var u = InfoReporter.getLog(), t = i("Trace Log"), r = 0; r < u.length; r++)t = t.concat(u[r] + n);
    return t
  }, t.prototype._appendLoadedScripts = function () {
    for (var f = document.getElementsByTagName("script"), u, t = i("Loaded Scripts"), r = 0; r < f.length; r++)u = f[r], u.src && u.type &&
      (t = t.concat(u.src + n));
    return t
  }, t
}();
ns_gen5_validation.ValidationManager = function () {
  function n() {
    t.call(this);
    this._callLaterQueue = [];
    this._priorityQueue = [];
    this._postValidationQueue = [];
    this._cycleID = -1;
    this.cyclecount = 0;
    this._callback_cycleHandler = i.CreateCallback(this, this._cycleHandler)
  }

  var t = extend(ns_gen5_events.EventDispatcher, n), i = ns_gen5_util.Delegate;
  return n.prototype.toString = function () {
    return"[ValidationManager]"
  }, n.prototype.callLater = function (n) {
    this._callLaterQueue[this._callLaterQueue.length] = n;
    this._cycleID == -1 && this._cycle()
  }, n.prototype.queueForValidation = function (n) {
    if (n.validationState != 1) {
      n.validationState = 1;
      var i = n.nestLevel || 0, t = this._priorityQueue[i];
      t || (t = this._priorityQueue[i] = []);
      t[t.length] = n;
      this._cycleID == -1 && this._cycle()
    }
  }, n.prototype.callPostValidation = function (n) {
    this._postValidationQueue[this._postValidationQueue.length] = n;
    this._cycleID == -1 && this._cycle()
  }, n.prototype.processValidationCycleNow = function () {
    this._cycleID != -1 && clearTimeout(this._cycleID);
    this._cycleHandler()
  }, n.prototype._processCallLaterQueue = function () {
    var t = this._callLaterQueue, n, i;
    for (this._callLaterQueue = [], n = 0, i = t.length; n < i; n++)try {
      t[n]()
    }
    catch (r) {
      ErrorReporter.Trace(this, r)
    }
  }, n.prototype._processValidationQueue = function () {
    var u = this._priorityQueue, t, f, i, n, r, e;
    for (this._priorityQueue = [], r = 0, e = u.length; r < e; r++)if (i = u[r], i)for (t = 0, f = i.length; t < f; t++)if ((n = i[t]) &&
      n.validationState == 1)try {
      n.validationState = 2;
      n.validateNow(!1);
      n.validationState = 0
    }
    catch (o) {
      ErrorReporter.Trace(this, o)
    }
  }, n.prototype._processPostValidationQueue = function () {
    var t = this._postValidationQueue, n, i;
    for (this._postValidationQueue = [], n = 0, i = t.length; n < i; n++)try {
      t[n]()
    }
    catch (r) {
      ErrorReporter.Trace(this, r)
    }
  }, n.prototype._cycle = function (n) {
    this._cycleID = setTimeout(this._callback_cycleHandler, n || 50)
  }, n.prototype._cycleHandler = function () {
    this._callLaterQueue.length > 0 && this._processCallLaterQueue();
    this._priorityQueue.length > 0 && this._processValidationQueue();
    this._postValidationQueue.length > 0 && this._processPostValidationQueue();
    this._callLaterQueue.length > 0 || this._priorityQueue.length > 0 || this._postValidationQueue.length > 0
      ? this._cycleHandler()
      : this._cycleID = -1;
    this.cyclecount++
  }, n
}();
ns_gen5_language.Resource = function () {
  function n() {
    this.mlJson = []
  }

  return n.prototype.toString = function () {
    return"[Resource]"
  }, n.prototype.loadResource = function (n, t) {
    var i = new XMLHttpRequest, r = Locator.manifestManager.resolveResourcePath(n, t);
    i.open("GET", r, !1);
    i.setRequestHeader("Content-Type", "application/json");
    i.send();
    i.readyState === 4 && i.status === 200 && (this.mlJson = JSON.parse(i.responseText));
    i = null
  }, n.prototype.getValue = function (n, t) {
    return this.mlJson[n] || t
  }, n
}();
ns_gen5_data.Attribute = {ADDITIONAL_DATA: "AD", ADDITIONAL_STATS: "AS", ANIMATION_ICON: "AM", ANIMATION_ID: "AI", ANIMATION_SOUND: "AS", ANIMATION_TEXT: "AT", ANIMATION_TOPIC: "AO", AUDIO_AVAILABLE: "AU", ARCHIVE_VIDEO_AVAILABLE: "AV", ARCHIVE_FIXTURE_INFO: "AF", ASIAN_HOVER: "AH", AUDIO_ICON: "IA", AUDIO_ID: "SD", BASE_LINE: "BL", BASE_ODDS: "BO", BET_TOTE_TYPE: "TC", BANKER_OPTION: "OB", BOOK_CLOSES: "BC", BETSLIP_PARAMETER: "BETSLIP", BETSLIP_STAKE_PARAMETER: "BETSLIP_STAKE", BUTTON_BAR: "BB", CHANGE_STAMP: "SA", CHANNEL: "CN", CHECK_BOX: "XB", CLASS_ID: "CI", CLASS_ORDER: "CR", CLASSIFICATION: "CL", CLASSIFICATIONS: "CS", CLOTH_NUMBER: "NC", COLUMN: "CO", COLUMN_NUMBER: "CN", COMMENT: "CM", COMMENT_V4: "MC", COMPETITION_NAME: "CT", CONTROLLER: "XL", COUNTDOWN: "TD", CURRENT_INFO: "CU", CURRENT_INFO_V4: "UC", DATA_1: "D1", DATA_2: "D2", DATA_3: "D3", DATA_4: "D4", DATA_5: "D5", DECIMAL_PLACES: "DP", DEFAULT_OPEN: "DO", DEFAULT_OPEN_HOMEPAGE: "HO", DEFAULT_OPEN_LEFT: "LO", DEFAULT_OPEN_RIGHT: "RO", DESCRIPTION: "DE", DIARY: "DY", DIARY_AUDIO_AVAILABLE: "IA", DIARY_DAY: "DA", DIARY_NAME: "DN", DIARY_REFRESH: "DR", DISPLAY_CLOCK: "DC", DISPLAY_DATE: "DD", DISPLAY_SCORE: "DS", DRAW_NUMBER: "DN", EMPTY: "EM", EMPTY_TOPIC_ID: "TO", END_TIME: "ET", ERROR_CODE: "EC", EXCLUDED_COUNTRY_CODES: "EC", FILTERING: "FF", EVENT: "EV", EVENT_ID: "EI", EVENT_TIME: "EA", EVENT_TYPE: "ET", EXCLUDE_COLUMN_NUMBERS: "XC", EXCLUDED_COUNTRIES: "CB", EXTRA_INFO_NODE: "XI", EXTRA_DATA_1: "EX", EXTRA_DATA_2: "ED", EXTRA_SCORES: "ES", EXTRA_STATS_AVAILABLE: "EL", FINANCIALS_CLOSE_TIME: "AQ", FINANCIALS_FEED_1: "FK", FINANCIALS_FEED_2: "FO", FINANCIALS_MARKET_1A: "FM", FINANCIALS_MARKET_1B: "FN", FINANCIALS_MARKET_2A: "FQ", FINANCIALS_MARKET_2B: "FR", FINANCIALS_MARKET_NAME: "CB", FINANCIALS_MARKET_ODDS_1: "AH", FINANCIALS_MARKET_ODDS_2: "AJ", FINANCIALS_PERIOD_1: "FL", FINANCIALS_PERIOD_2: "FP", FINANCIALS_PRICE_1: "AB", FINANCIALS_TRADE: "CD", FIXTURE_PARENT_ID: "FI", FORCE_DISPLAY: "FD", HANDICAP: "HA", GROUP: "GR", HANDICAP_FORMATTED: "HD", HASH: "HS", HORSE_AGE: "HY", HORSE_WEIGHT: "HW", IBOX: "IB", ICON: "IC", ID: "ID", IMAGE: "IM", INCLUDE_OVERVIEW_MARKET: "IM", IMAGE_ID: "IG", IN_PLAY: "IF", IN_PLAY_AVAILABLE_FLAG: "IP", INFO: "IN", INRUNNING_INFO: "IR", JOCKEY: "JY", KIT_COLORS: "KC", KIT_ID: "KI", LABEL: "LA", LOTTO_MAX_WINNINGS: "MW", LIVE_IN_PLAY: "LP", MATCH_LENGTH: "ML", MATCHLIVE_AVAILABLE: "SV", MATCHLIVE_ANIMATION: "VC", MATCHLIVE_PERIOD: "MD", PENALTY_GOALS: "PG", MATCHLIVE_STATS_1: "S1", MATCHLIVE_STATS_2: "S2", MATCHLIVE_STATS_3: "S3", MATCHLIVE_STATS_4: "S4", MATCHLIVE_STATS_5: "S5", MATCHLIVE_STATS_6: "S6", MATCHLIVE_STATS_7: "S7", MATCHLIVE_STATS_8: "S8", NON_MATCH_BASED: "NM", PARTICIPANTS_EXCEEDED: "PE", PERIOD: "PE", MAX_BET: "MB", MARKET: "MA", MARKET_GROUP: "MG", MARKET_TYPE: "MT", MARKET_BAR: "HM", MATCH_POSTPONED: "MP", MATCH_FLAG: "MF", MEDIA_ID: "MS", MERGE_MARKET: "MM", MINI_DIARY: "CI", MINI_DIARY_C1: "C1", MINI_DIARY_C2: "C2", MINI_DIARY_C3: "C3", LOTTO_GAME_MARKET: "GM", LOTTO_GAME_CODE: "GC", MINI_DIARY_T1: "T1", MINI_DIARY_T2: "T2", MINI_DIARY_T3: "T3", MULTI_EVENT: "ME", MULTILINE: "MU", NAME: "NA", NAME2: "N2", NEUTRAL_VENUE: "NV", NEUTRAL_VENUE_TEXT: "NT", NEXT_HEADER: "NH", NGENERA: "NG", NON_RUNNER: "NR", RACE_OFF: "RO", R4_COMMENT: "RI", RUNNER_STATUS: "RS", ODDS: "OD", ODDS_OVERRIDE: "OO", ORDER: "OR", OTHERS_AVAILABLE: "OT", PARENT_ID: "IP", PARTICIPANT: "PA", PLAYING_INDICATOR: "PI", PAGE_DATA: "PD", PAGE_DATA_1: "PC", POD: "PD", POD_STACK: "PS", PREMIUM_VERSION: "PV", PREVIOUS_SET_SCORE: "LS", HEADER_IMAGE: "HI", POD_HEADER_TEXT: "HT", RACE_DETAILS: "RD", INFO_POD_DETAIL_1: "ST", INFO_POD_DETAIL_2: "BT", BLURB_HEADER: "BH", INFO_POD_TYPE: "PD", INFO_POD_LINK_1_ID: "LA", INFO_POD_LINK_1_DISPLAY_TEXT: "LB", INFO_POD_LINK_1_C1_ID: "LC", INFO_POD_LINK_1_C1_ID_TABLE: "LD", INFO_POD_LINK_1_C2_ID: "LE", INFO_POD_LINK_1_C2_ID_TABLE: "LF", POD_ENCODED_URL_1: "LM", POD_ENCODED_URL_2: "LN", INFO_POD_LINK_2_ID: "LG", INFO_POD_LINK_2_DISPLAY_TEXT: "LH", INFO_POD_LINK_2_C1_ID: "LI", INFO_POD_LINK_2_C1_ID_TABLE: "LJ", INFO_POD_LINK_2_C2_ID: "LK", INFO_POD_LINK_2_C2_ID_TABLE: "LL", INFO_POD_LINK_1_C3_ID: "LP", INFO_POD_LINK_1_C3_ID_TABLE: "LQ", INFO_POD_LINK_1_C3_SECTION_ID: "LR", INFO_POD_IMAGE_URL: "IN", POD_OPEN: "PP", POD_TYPE: "PT", PAGE_TYPE: "PG", ITEM_ORDER: "IO", POINTS: "PO", PUSH_FLAG: "PF", LEAGUE_TOPIC: "TL", LIVE_MARKETS: "LM", STAT_LOCATION: "SZ", STAT_TIME: "TM", STAT_PERIOD: "SP", EXTRA_TIME_LENGTH: "XT", SOCCER_LEAGUE: "LG", SCORE: "SC", SCORES_CELL: "SL", SCORES_COLUMN: "SC", SECONDARY_EVENT: "SE", SELECTED: "LS", SECONDARY_UK_EVENT: "MO", SHORT_SCORE: "SS", SHORT_POINTS: "XP", SHOW_ON_HOMEPAGE: "HP", SPOTLIGHT_FORM: "SF", START_TIME: "SM", STAT: "ST", STAT_GROUP: "SG", STATS_CELL: "AE", STATS_COLUMN: "AC", STATS_PANE: "AP", STATS_TAB: "AT", STYLE: "SY", SUCCESS: "SU", SUSPENDED: "SU", TAX_DETAILS: "TD", TAX_RATE: "TR", TAX_METHOD: "TX", TEAM: "TE", TEAM_GROUP: "TG", TEAM_COLOR: "TC", TEXT_1: "T1", TEXT_2: "T2", TEXT_3: "T3", TEXT_4: "T4", TEXT_5: "T5", TIME_STAMP: "TP", TIMEZONE_ADJUSTMENT: "ZA", TMR_MINS: "TM", TMR_SECS: "TS", TMR_SERVER: "TI", TMR_TICKING: "TT", TMR_UPDATED: "TU", TOPIC_ID: "IT", TOPIC_LIST: "TL", TOPIC_LIST_EXCLUSIONS: "TX", UPDATE_FREQUENCY: "UF", VIDEO_AVAILABLE: "VI", VIDEO_STREAM: "VS", VISIBLE: "VL", WIZE_GUY: "WG", BANNER_STYLE: "BS", INFO_BANNER_SUBHEAD2: "HU", INFO_POD_IMAGE_PATH1: "IS", INFO_POD_IMAGE1: "IQ", INFO_POD_IMAGE2: "IU", POD_BODY_TEXT_1: "ST", POD_BODY_TEXT_2: "HV", PULL_BET_DATA: "BD", RESULTS_TEXT: "RT", TRAINER_NAME: "TN", DRAW_NUMBER_PULL: "SN", FORM_PULL: "FO", IMAGE_ID_PULL: "SI", CLOTH_NUMBER_PULL: "PN", JOCKEY_PULL: "JN", BET_TYPE_PULL: "CC", LAST_RACES: "LR", VIRTUAL_DATA: "VD", VIRTUAL_RACE: "VR", ODDS_HISTORY: "OH", PARTICIPANT_STATUS: "PS", PARTICIPANT_STYLE: "PY", PHONE_ONLY: "PH", PHONE_ONLY_LIST: "TO", CURRENT_PERIOD: "CP", WIN_365: "3W", PLACE_365: "3P", APN_FLUC: "FL", FIXED_WIN: "FW", FIXED_PLACE: "FP", SUSPEND_ARRAY: "SA", ETOTE_LINK_DATA: "EE", TOTE_NAMES: "TS", EXTRA_PARTICIPANTS: "EP", AUS_TOTE_COMBINATION: "PI", SECTION_ID: "SI", PARTICIPANT_COUNT: "PC"};
ns_gen5_data.DataMessage = function () {
  function n(n, t, i, r) {
    this.type = n;
    this.item = t;
    this.nodeType = i;
    this.info = r
  }

  return n.prototype.toString = function () {
    return"[DataMessage type=" + this.type + " item=" + this.item + " nodeType=" + this.nodeType + " info=" + this.info + "]"
  }, n
}();
ns_gen5_data.DataMessageType = function () {
  function n() {
  }

  return n.SNAPSHOT = "F", n.UPDATE = "U", n.INSERT = "I", n.DELETE = "D", n
}();
ns_gen5_data.StemEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.data = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.prototype.toString = function () {
    return"[StemEvent type=" + this.type + "]"
  }, n.UPDATE = "update", n.INSERT = "insert", n.DELETE = "delete", n
}();
ns_gen5_data.Stem = function () {
  function n() {
    e.call(this);
    this._actualChildren = []
  }

  var e = extend(ns_gen5_events.EventDispatcher, n), t = ns_gen5_data.StemEvent, i = ns_gen5_data.Attribute, o = ns_gen5_data.DataMessage, r, u, f;
  return n.prototype.toString = function () {
    return"[Stem]"
  }, n.prototype._children = null, n.prototype._numListeners = 0, n.prototype._hasListeners = !1, n.prototype._filterInvalidated = !1, n.prototype.data = null, n.prototype.parent = null, n.prototype.filtered = !1, n.prototype.readonly_length = 0, n.prototype.nodeName = null, n.prototype.hasLookupReference = !1, n.FilterToken = null, n.prototype.update = function (r) {
    var e, o, s, f, u, h;
    if (r) {
      for (e in r)this.data[e] = r[e];
      if (this.parent)if (o = i.ORDER in r, o &&
        (s = Number(r[i.ORDER]), f = this.parent._actualChildren, f.splice(f.indexOf(this), 1), f.splice(s, 0, this)), i.FILTERING in r) {
        u = -1;
        h = r[i.FILTERING];
        do u = h.indexOf(n.FilterToken, ++u); while (u != -1 && u * .5 != u >> 1);
        if (this.filtered != (this.filtered = u != -1)) {
          this.parent._filterInvalidated = !0;
          this.filtered
            ? (this.readonly_length--, this._hasListeners && this.dispatchEvent(new t(t.DELETE)))
            : (this.parent.getChildren(), this._hasListeners && this.parent.dispatchEvent(new t(t.INSERT, this)));
          return
        }
      }
      else o && !this.filtered && this.parent._children && (this.parent._filterInvalidated = !0);
      this._hasListeners && !this.filtered && this.dispatchEvent(new t(t.UPDATE, r))
    }
  }, n.prototype.insert = function (r, u) {
    var f, e, s;
    u = u || n;
    r instanceof o
      ? (e = r, f = new u, f.set_data(e.item), f.nodeName = e.nodeType)
      : r instanceof n
      ? f = r
      : (f = new u, f.set_data(r));
    f.parent = this;
    s = f.data[i.ORDER];
    s
      ? this._actualChildren.splice(Number(s), 0, f)
      : this._actualChildren[this._actualChildren.length] = f;
    f.filtered || (this._children
      ? this.getChildren()
      : this.readonly_length++, this._hasListeners && this.dispatchEvent(new t(t.INSERT, f)))
  }, n.prototype.remove = function () {
    var u, n, e, f, o, r;
    for (this._hasListeners && this.dispatchEvent(new t(t.DELETE)), n = 0, e = this._actualChildren.length; n < e; n++)u = this._actualChildren[n], u &&
      (u.parent = null, u.remove(), delete this._actualChildren[n]);
    if (this.hasLookupReference && Locator.treeLookup.removeReference(this.data[i.TOPIC_ID]), this.parent != null) {
      for (this.filtered || this.parent.readonly_length--, f = this.parent._actualChildren, o = f.length, this.parent._children &&
        (this.parent._filterInvalidated = !0), r = 0; r < o; r++)if (f[r] == this) {
        f.splice(r, 1);
        break
      }
      this.parent = null
    }
  }, n.prototype.adopt = function (n) {
    var i, t, r;
    for (this._children = n.concat(), this.readonly_length = n.length, n.splice(0, this.readonly_length), t = 0, r = this._children.length; t <
      r; t++)i = this._children[t], i && (i.parent = this)
  }, n.prototype.adoptStem = function (n) {
    var t;
    if (n.parent != null) {
      var i = n.parent, r = i._actualChildren, u = r.length;
      for (n.filtered || (i.readonly_length--, this.readonly_length++), i._children && (i._filterInvalidated = !0), t = 0; t < u; t++)if (r[t] == n) {
        r.splice(t, 1);
        break
      }
      n.parent = this;
      this._actualChildren[this._actualChildren.length] = n;
      this._children && (this._filterInvalidated = !0)
    }
  }, n.prototype.set_data = function (r) {
    if (this.data = r, this.hasLookupReference || Locator.treeLookup.addReference(this), i.FILTERING in r) {
      var u = -1, f = r[i.FILTERING];
      do u = f.indexOf(n.FilterToken, ++u); while (u != -1 && u * .5 != u >> 1);
      u != -1
        ? (this.filtered = !0, this.parent && (this.parent._filterInvalidated = !0))
        : this.parent && this.parent.readonly_length++
    }
    else this.parent && this.parent.readonly_length++;
    this._hasListeners && this.dispatchEvent(new t(t.UPDATE, r))
  }, n.prototype.getChildren = function () {
    var n, r, u, t, f;
    if (this._filterInvalidated) {
      for (this._filterInvalidated = !1, this._children
        ? this._children.length = 0
        : this._children = [], r = this._actualChildren, t = 0, f = r.length; t < f; t++)n = r[t], n && !n.filtered &&
        (u = this._children.length, n.data[i.ORDER] = u, this._children[u] = n);
      this.readonly_length = this._children.length
    }
    return this._children || this._actualChildren
  }, r = 0, n.all = {}, u = n.prototype.addEventListener, n.prototype.addEventListener = function (t, f) {
    this._numListeners++;
    this._hasListeners = !0;
    n.all[this.data[i.TOPIC_ID]] = this;
    r++;
    u.call(this, t, f)
  }, f = n.prototype.removeEventListener, n.prototype.removeEventListener = function (t, u) {
    this._numListeners--;
    this._hasListeners = this._numListeners > 0;
    this._numListeners <= 0 && delete n.all[this.data[i.TOPIC_ID]];
    r--;
    f.call(this, t, u)
  }, n
}();
ns_gen5_data.FixtureStem = function () {
  function t() {
    f.call(this);
    this.statGroups = [];
    this.teamGroups = [];
    this.additionalScores = []
  }

  var f = extend(ns_gen5_data.Stem, t), i = ns_gen5_data.Stem, r = ns_gen5_data.StemEvent, n = ns_gen5_data.Attribute, e = ns_gen5_data.DataMessage, u;
  return t.prototype.toString = function () {
    return"[FixtureStem]"
  }, t.prototype.insert = function (t, u) {
    var f, o, s;
    u = u || i;
    t instanceof e
      ? (o = t, f = new u, f.set_data(o.item), f.nodeName = o.nodeType)
      : t instanceof i
      ? f = t
      : (f = new u, f.set_data(t));
    f.parent = this;
    f.nodeName == n.EXTRA_SCORES
      ? this.additionalScores[this.additionalScores.length] = f
      : f.nodeName == n.TEAM_GROUP
      ? this.teamGroups[this.teamGroups.length] = f
      : f.nodeName == n.STAT_GROUP
      ? this.statGroups[this.statGroups.length] = f
      : (s = f.data[n.ORDER], s
      ? this._actualChildren.splice(Number(s), 0, f)
      : this._actualChildren[this._actualChildren.length] = f, f.filtered || (this._children
      ? this.getChildren()
      : this.readonly_length++));
    this._hasListeners && !f.filtered && this.dispatchEvent(new r(r.INSERT, f))
  }, u = t.prototype.remove, t.prototype.remove = function () {
    u.call(this);
    for (var t, n = 0, i = this.statGroups.length; n < i; n++)t = this.statGroups[n], t && (t.parent = null, t.remove(), delete this.statGroups[n]);
    for (n = 0, i = this.teamGroups.length; n < i; n++)t = this.teamGroups[n], t && (t.parent = null, t.remove(), delete this.teamGroups[n]);
    for (n = 0, i = this.additionalScores.length; n < i; n++)t = this.additionalScores[n], t && (t.parent = null, t.remove(), delete this.additionalScores[n])
  }, t.prototype.legacyID = function () {
    return this.data[n.MINI_DIARY_C1] + this.data[n.MINI_DIARY_T1] + this.data[n.MINI_DIARY_C2] + this.data[n.MINI_DIARY_T2] + "-" +
      ((this.parent && this.parent.data
        ? this.parent.data[n.ID]
        : null) || this.data[n.CLASSIFICATION])
  }, t.prototype.legacyIDRaw = function () {
    return this.data[n.MINI_DIARY_C1] + this.data[n.MINI_DIARY_T1] + this.data[n.MINI_DIARY_C2] + this.data[n.MINI_DIARY_T2] + ((this.parent && this.parent.data
      ? this.parent.data[n.ID]
      : null) || this.data[n.CLASSIFICATION])
  }, t
}();
ns_gen5_data.TreeLookup = function () {
  function n() {
    this._table = {}
  }

  var t = ns_gen5_data.Attribute, i = ns_gen5_data.Stem;
  return n.prototype.toString = function () {
    return"[TreeLookup]"
  }, n.prototype.addReference = function (n, i) {
    typeof i == "undefined" && (i = null);
    var r = n.data[i || t.TOPIC_ID];
    r
      ? (this._table[r] = n, n.hasLookupReference = !0)
      : $log("can't add lookup ref")
  }, n.prototype.getReference = function (n) {
    return this._table[n]
  }, n.prototype.removeReference = function (n) {
    var t = this._table[n];
    t && (delete this._table[n], t.hasLookupReference = !1)
  }, n
}();
ns_gen5_data.StreamDataProcessorEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.data = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.INFO_UPDATED = "infoUpdated", n.SNAPSHOT_EMPTY = "snapshotEmpty", n.SERVER_RECONNECT = "serverReconnect", n.CONNECTION_FAILED = "connectionFailed", n.CONNECTED = "connected", n
}();
ns_gen5_data.SubscriptionManagerEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.data = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.RENEW_SUBSCRIPTION = "renewSubscription", n.CONNECTION_FAILED = "connectionFailed", n.CONNECTED = "connected", n
}();
ns_gen5_data.SubscriptionManager = function () {
  function n() {
    u.call(this);
    this._subscribedTopics = {};
    this._batchSubscribe = "";
    this._batchUnsubscribe = "";
    this._streamDataProcessor = null;
    this._pullDataProcessor = null;
    this.delegate_snapshotRecievedHandler = new t(this, this._snapshotRecievedHandler);
    this.delegate_pushReconnectHandler = new t(this, this._pushReconnectHandler);
    this.delegate_pushConnectionFailedHandler = new t(this, this._pushConnectionFailedHandler);
    this.callback_submitBatch = t.CreateCallback(this, this.submitBatch)
  }

  var u = extend(ns_gen5_events.EventDispatcher,
    n), i = ns_gen5_data.SubscriptionManagerEvent, t = ns_gen5_util.Delegate, f = ns_gen5_events.Event365, r = ns_gen5_data.StreamDataProcessorEvent;
  return n.prototype.toString = function () {
    return"[SubscriptionManager]"
  }, n.prototype.connect = function () {
    this._streamDataProcessor.connect()
  }, n.prototype.subscribe = function (n, r, u, f, e, o) {
    return n
      ? (u != !1 && u != !0 && (u = !0), f != !1 && f != !0 && (f = !0), Locator.treeLookup.getReference(n)
      ? Locator.validationManager.callLater(t.CreateCallback(r.scope, r.method, new i(n)))
      : (this.addEventListener(n, r), this._subscribedTopics[n]
      ? this._subscribedTopics[n].push(r)
      : (this._subscribedTopics[n] = [r], n.charAt(0) == "#"
      ? (u && this._pullDataProcessor.loadPageData(n, null, e), this._pullDataProcessor.addEventListener(n, this.delegate_snapshotRecievedHandler))
      : (u && (o
      ? (this._batchSubscribe.length == 0 && this._batchUnsubscribe.length == 0
      ? Locator.validationManager.callLater(this.callback_submitBatch)
      : this._batchSubscribe && (this._batchSubscribe += ","), this._batchSubscribe += n + "," + n + "//")
      : this._streamDataProcessor.subscribe(n, f)), this._streamDataProcessor.addEventListener(n, this.delegate_snapshotRecievedHandler)))), n)
      : null
  }, n.prototype.unsubscribe = function (n, t, i, r) {
    if (n) {
      i != !1 && i != !0 && (i = !0);
      t != !1 && t != !0 && (t = !0);
      var u = Locator.treeLookup.getReference(n);
      n.charAt(0) != "#"
        ? i && (r
        ? (this._batchSubscribe.length == 0 && this._batchUnsubscribe.length == 0
        ? Locator.validationManager.callLater(this.callback_submitBatch)
        : this._batchUnsubscribe && (this._batchUnsubscribe += ","), this._batchUnsubscribe += n + (t
        ? "//"
        : ""))
        : this._streamDataProcessor.unsubscribe(n, t))
        : this._pullDataProcessor.cancelPageDataLoad(n);
      this._removeListenersForTopic(n);
      delete this._subscribedTopics[n];
      u && u.remove()
    }
  }, n.prototype.send = function (n, t) {
    this._streamDataProcessor.send(n, t)
  }, n.prototype.unsubscribeAll = function () {
    for (var n in this._subscribedTopics)this.unsubscribe(n)
  }, n.prototype.unsubscribePush = function () {
    for (var n in this._subscribedTopics)n.charAt(0) != "#" && Locator.treeLookup.getReference(n) && this.unsubscribe(n)
  }, n.prototype.unsubscribePull = function () {
    for (var n in this._subscribedTopics)n.charAt(0) == "#" && this.unsubscribe(n)
  }, n.prototype.setStreamDataProcessor = function (n) {
    this._streamDataProcessor && (this._streamDataProcessor.removeEventListener(r.SERVER_RECONNECT,
      this.delegate_pushReconnectHandler), this._streamDataProcessor.removeEventListener(r.CONNECTION_FAILED, this.delegate_pushConnectionFailedHandler));
    this._streamDataProcessor = n;
    this._streamDataProcessor.addEventListener(r.SERVER_RECONNECT, this.delegate_pushReconnectHandler);
    this._streamDataProcessor.addEventListener(r.CONNECTION_FAILED, this.delegate_pushConnectionFailedHandler)
  }, n.prototype.setPullDataProcessor = function (n) {
    this._pullDataProcessor = n
  }, n.prototype.submitBatch = function () {
    this._batchSubscribe && this._batchUnsubscribe
      ? this._streamDataProcessor.swapSubscriptions(this._batchSubscribe, this._batchUnsubscribe)
      : (this._batchSubscribe && this._streamDataProcessor.subscribe(this._batchSubscribe, !1), this._batchUnsubscribe &&
      this._streamDataProcessor.unsubscribe(this._batchUnsubscribe));
    this._batchSubscribe = "";
    this._batchUnsubscribe = ""
  }, n.prototype._removeListenersForTopic = function (n) {
    var i = this._subscribedTopics[n], t, r;
    if (i)for (t = 0, r = i.length; t < r; t++)this.removeEventListener(n, i[t])
  }, n.prototype._snapshotRecievedHandler = function (n) {
    n.target.removeEventListener(n.type, this.delegate_snapshotRecievedHandler);
    try {
      this.dispatchEvent(new i(n.type));
      this._removeListenersForTopic(n.type)
    }
    catch (t) {
      ErrorReporter.Trace(this, t)
    }
  }, n.prototype._pushReconnectHandler = function () {
    this.dispatchEvent(new i(i.RENEW_SUBSCRIPTION));
    this.unsubscribePush()
  }, n.prototype._pushConnectionFailedHandler = function () {
    this.unsubscribePush()
  }, n
}();
ns_gen5_data.DataUtil = function () {
  function i() {
  }

  var n = ns_gen5_data.Attribute, t = ns_gen5_data.Stem, r = ns_gen5_data.DataMessage, u = ns_gen5_data.DataMessageType, f = ns_gen5_data.FixtureStem;
  i.prototype.toString = function () {
    return"[DataUtil]"
  };
  var e = u.SNAPSHOT, s = n.ORDER, h = n.FILTERING, o = n.PHONE_ONLY;
  return i.ParseMessage = function (u, s) {
    for (var ri = Locator.treeLookup, g, dt, l = new t, yt, gt, nt, a, h, pt, b, y, k, ni, w, c, ti, wt, d, tt, ui, it, rt, ut, ft, et, ot, st, ht, ct, p, fi, lt = u.indexOf("|",
      1), at = lt, bt = u.charAt(0), ei = (dt = bt != e)
      ? 0
      : 1, ii = Locator.user.countryCode, oi = Locator.user.countryCode64, si = Locator.user.phoneOnlyEnabled, vt, v, kt; at != -1;)try {
      for (lt = u.indexOf("|", ++at), nt = u.slice(at, lt).split(";"), gt = nt.length - 1, at = lt, a = {}, b = nt[0], g = ei; g <
        gt; g++)pt = nt[g], a[pt.substr(0, 2)] = pt.substr(3);
      if (ii && n.EXCLUDED_COUNTRIES in a) {
        vt = a[n.EXCLUDED_COUNTRIES] || "";
        v = -1;
        do v = vt.indexOf(ii, ++v); while (v != -1 && (v & 1) == 1);
        v != -1 && (a.VI = "0", a.VS = "0", a.MS = "0")
      }
      if (si && n.PHONE_ONLY_LIST in a) {
        vt = a[n.PHONE_ONLY_LIST];
        v = -1;
        do v = vt.indexOf(oi, ++v); while (v != -1 && (v & 1) == 1);
        v != -1 && (a[o] = "1")
      }
      if (dt && b != n.INFO)return new r(bt, a, b, yt);
      switch (b) {
        case n.PARTICIPANT:
          h = new t;
          ct = tt || d || l;
          h.parent = ct;
          ct._actualChildren[ct._actualChildren.length] = h;
          break;
        case n.COLUMN:
          h = new t;
          h.parent = d;
          tt = d._actualChildren[d._actualChildren.length] = h;
          break;
        case n.MARKET:
          tt = null;
          d = h = new t;
          p = ti || c || l;
          h.parent = p;
          p._actualChildren[p._actualChildren.length] = h;
          break;
        case n.MARKET_GROUP:
          tt = null;
          ti = h = new t;
          h.parent = c;
          c._actualChildren[c._actualChildren.length] = h;
          break;
        case n.COMPETITION_NAME:
          wt = h = new t;
          h.parent = w;
          w._actualChildren[w._actualChildren.length] = h;
          break;
        case n.EVENT:
          h = new f;
          w == null && (w = ni || l);
          p = wt || w;
          h.parent = p;
          c = h;
          p._actualChildren[p._actualChildren.length] = h;
          break;
        case n.CLASSIFICATION:
          w = h = new t;
          wt = null;
          h.parent = l;
          l._actualChildren[l._actualChildren.length] = h;
          break;
        case n.TEAM_GROUP:
          it = h = new t;
          h.parent = c;
          c.teamGroups[c.teamGroups.length] = h;
          break;
        case n.TEAM:
          h = new t;
          h.parent = it;
          it._actualChildren[it._actualChildren.length] = h;
          break;
        case n.STAT_GROUP:
          rt = h = new t;
          h.parent = c;
          c.statGroups[c.statGroups.length] = h;
          break;
        case n.STAT:
          h = new t;
          h.parent = rt;
          rt._actualChildren[rt._actualChildren.length] = h;
          break;
        case n.EXTRA_SCORES:
          ut = h = new t;
          h.parent = c;
          c.additionalScores[c.additionalScores.length] = h;
          break;
        case n.SCORES_COLUMN:
          ft = h = new t;
          h.parent = ut;
          ut._actualChildren[ut._actualChildren.length] = h;
          break;
        case n.SCORES_CELL:
          h = new t;
          h.parent = ft;
          ft._actualChildren[ft._actualChildren.length] = h;
          break;
        case n.ADDITIONAL_STATS:
          et = h = new t;
          h.parent = c;
          c._actualChildren[c._actualChildren.length] = h;
          break;
        case n.STATS_PANE:
          ot = h = new t;
          h.parent = et;
          et._actualChildren[et._actualChildren.length] = h;
          break;
        case n.STATS_TAB:
          st = h = new t;
          h.parent = ot;
          ot._actualChildren[ot._actualChildren.length] = h;
          break;
        case n.STATS_COLUMN:
          ht = h = new t;
          h.parent = st;
          st._actualChildren[st._actualChildren.length] = h;
          break;
        case n.STATS_CELL:
          h = new t;
          h.parent = ht;
          ht._actualChildren[ht._actualChildren.length] = h;
          break;
        case n.INFO:
          yt = a;
          break;
        case n.POD:
          ni = h = new t;
          k == null && (k = y || l);
          h.parent = k;
          k._actualChildren[k._actualChildren.length] = h;
          break;
        case n.POD_STACK:
          k = h = new t;
          y == null && (y = l);
          h.parent = y;
          y._actualChildren[y._actualChildren.length] = h;
          break;
        case n.CONTROLLER:
          y = h = new t;
          l._actualChildren[l._actualChildren.length] = y;
          break;
        default:
          h = null;
          break;
        case n.SOCCER_LEAGUE:
          ui = h = new t;
          h.parent = c;
          c._actualChildren[c._actualChildren.length] = h;
          break;
        case n.EXTRA_INFO_NODE:
          l = h = new t
      }
      h && (h.nodeName = b, h.set_data(a))
    }
    catch (hi) {
      ErrorReporter.Trace(i, hi)
    }
    return l._actualChildren.length == 1 && l._actualChildren[0].nodeName == n.PARTICIPANT
      ? l = l._actualChildren[0]
      : ri.getReference(s) || l.set_data({IT: s}), kt = new r(bt, l, b, yt), kt.inPlayFlag = fi, kt
  }, i
}();
ns_gen5_data.User = function () {
  function n() {
  }

  var t = ns_gen5_data.Stem, i = "GD,GG,GI,GJ", r = "2", u = "4";
  return n.prototype.oddsTypeId = null, n.prototype.languageId = null, n.prototype.zoneId = null, n.prototype.timeZoneId = null, n.prototype.currencyCode = null, n.prototype.countryId = null, n.prototype.countryStateId = null, n.prototype.countryGroupId = null, n.prototype.countryCode64 = null, n.prototype.countryState64 = null, n.prototype.countryGroup64 = null, n.prototype.phoneOnlyEnabled = !1, n.prototype.toString = function () {
    return"[User]"
  }, n.prototype.setSiteConfig = function (n, t, i, r) {
    this.countryId = t;
    this.countryStateId = i;
    this.countryGroupId = r;
    this._setStemFilterMode(n)
  }, n.prototype._setStemFilterMode = function (n) {
    for (var s = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R",
      "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w",
      "x", "y", "z", "+", "/"], h, c = 0, o = 0, f = 0, e = []; f < 4096;)h = s[c] + s[o], (f + 1) % 64 == 0 && (c++, o = -1), e[f] = h, o++, f++;
    var l = this.countryCode64 = e[1024 + parseInt(this.countryId)], a = this.countryState64 = e[2048 +
      parseInt(this.countryStateId)], v = this.countryGroup64 = e[parseInt(this.countryGroupId)];
    this.phoneOnlyEnabled = i.split(",").indexOf(l) > -1;
    switch (n) {
      case u:
        t.FilterToken = v;
        break;
      case r:
        t.FilterToken = a;
        break;
      default:
        t.FilterToken = l
    }
  }, n.prototype.getCookieValue = function (n) {
    for (var i, r = null, f, u, o = document.cookie.split(";"), t = 0, e = o.length; t < e; t++)if (u = o[t], f = u.indexOf("="), i = u.substr(0,
      f), i = i.replace(/^\s+|\s+$/g, ""), i == n) {
      r = u.substr(f + 1);
      r = unescape(r);
      break
    }
    return r
  }, n.prototype.getSessionId = function () {
    return this.getCookieValue("pstk")
  }, n
}();
ns_gen5_data.Configuration = function () {
  function n() {
    this._matchLiveEnabledClassifications = []
  }

  return n.prototype._connectionDetails = null, n.prototype.toString = function () {
    return"[Configuration]"
  }, n.prototype.isMatchLiveEnabled = function (n) {
    return this._matchLiveEnabledClassifications.indexOf(n.toString()) > -1
  }, n.prototype.getConnectionDetails = function () {
    return this._connectionDetails
  }, n.prototype.load = function (n) {
    var i, u, t, r, e = String(Math.random()).substring(2), f;
    if (n && n.ConnectionDetails && n.ConnectionDetails.length > 0) {
      for (r = [], i = 0, u = n.ConnectionDetails.length; i <
        u; i++)t = n.ConnectionDetails[i], r.push({host: t.Host, port: t.Port, transportMethod: t.TransportMethod, defaultTopic: t.DefaultTopic, userId: e});
      n.MatchLiveEnabledClassifications && (this._matchLiveEnabledClassifications = n.MatchLiveEnabledClassifications.split(","));
      f = !Modernizr.inplaypush || !n.PushInPlayEnabled || !n.PushInPlayEnabledForUser;
      f && (readit.HttpTransportMethod.pollDelay = 100);
      this._connectionDetails = r
    }
    else throw new Error("settings is null or empty");
  }, n
}();
ns_gen5_data.VisibilityChangeEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.data = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.prototype.toString = function () {
    return"[StemEvent type=" + this.type + "]"
  }, n.VISIBLE = "visible", n.HIDDEN = "hidden", n
}();
ns_gen5_ui.DomElement = function () {
  function n(n) {
    t.call(this);
    this._element = document.createElement(n
      ? n
      : "div");
    this._element.wrapper = this
  }

  var t = extend(ns_gen5_events.EventDispatcher, n);
  return n.prototype.toString = function () {
    return"[DomElement]"
  }, n.prototype.parent = null, n.prototype.initialized = !1, n.prototype.nestLevel = 0, n.prototype._suspended_previousSibling = null, n.prototype.initialize = function () {
    return this.initialized = !0, this
  }, n.prototype.appendChild = function (n) {
    return n.parent = this, !n.initialized && n.initialize && (n.nestLevel = this.nestLevel + 1, n.initialize()), this._element.appendChild(n._element), n
  }, n.prototype.insertBefore = function (t, i) {
    if (!i)throw new Error("before is null or undefined!!!");
    return t.parent = this, !t.initialized && t.initialize && (t.nestLevel = this.nestLevel + 1, t.initialize()), this._element.insertBefore(t._element,
      i instanceof n
        ? i._element
        : i), t
  }, n.prototype.appendChildAt = function (n, t) {
    n.parent = this;
    !n.initialized && n.initialize && (n.nestLevel = this.nestLevel + 1, n.initialize());
    var i = this._element.children.length > t
      ? this._element.children[t]
      : null;
    this._element.insertBefore(n._element, i)
  }, n.prototype.removeChild = function (n) {
    if (n.parent == this) {
      n.parent = null;
      try {
        this._element.removeChild(n._element);
        this._suspended_nextSibling = null
      }
      catch (t) {
        ErrorReporter.Trace(this, t)
      }
    }
    return n
  }, n.prototype.replaceChild = function (n, t) {
    return t.parent == this && (t.parent = null, n.parent = this, !n.initialized && n.initialize &&
      (n.nestLevel = this.nestLevel + 1, n.initialize()), this._element.replaceChild(n._element, t._element)), n
  }, n.prototype.removeAllChildren = function () {
    for (var n = this._element.firstChild, t; n;)t = n.wrapper, n = n.nextSibling, t && this.removeChild(t);
    return this
  }, n.prototype.suspendElementFromDom = function () {
    this._suspended_previousSibling = this._element.previousSibling;
    this._element.parentNode && this.parent._element.removeChild(this._element)
  }, n.prototype.unsuspendElementFromDom = function () {
    this._suspended_previousSibling
      ? (this.parent._element.insertBefore(this._element, this._suspended_previousSibling.nextSibling), this._suspended_nextSibling = null)
      : this.parent._element.appendChild(this._element)
  }, n.prototype.setAttribute = function (n, t) {
    return this._element.setAttribute(n, t), this
  }, n.prototype.getElement = function () {
    return this._element
  }, n.prototype.getElementChildren = function () {
    return this._element.children
  }, n.prototype.getFirstChild = function () {
    return this._element.firstChild
  }, n.prototype.getLastChild = function () {
    return this._element.lastChild
  }, n.prototype.getPreviousSibling = function () {
    return this._element.previousSibling
  }, n.prototype.getNextSibling = function () {
    return this._element.nextSibling
  }, n.prototype.getElementByClassName = function (n) {
    var t = this._element.getElementsByClassName(n);
    return t.length > 0
      ? t[0]
      : null
  }, n
}();
ns_gen5_ui.TextNode = function () {
  function n(n) {
    this._element = document.createTextNode(n || "");
    this._text = n || null
  }

  return n.prototype.toString = function () {
    return"[TextNode text=" + this._text + "]"
  }, n.prototype.parent = null, n.prototype.setText = function (n) {
    return this._text = this._element.data = n
  }, n.prototype.getText = function () {
    return this._text
  }, n.Wrapper = function (n) {
    this._element = n;
    this._text = this._element.data || null
  }, n.Wrapper.prototype = new n, n
}();
ns_gen5_ui.Component = function () {
  function n(n) {
    t.call(this, n);
    this._styleList = []
  }

  var t = extend(ns_gen5_ui.DomElement, n), i;
  return n.prototype.toString = function () {
    return"[Component]"
  }, n.prototype.validationState = 0, n.prototype._propertiesInvalidated = !1, n.prototype._stylesInvalidated = !1, n.prototype._visible = !0, n.prototype._stopInitInvalidation = !1, n.Wrapper = function (n) {
    ns_gen5_events.EventDispatcher.call(this);
    this.parent = !0;
    this._element = n;
    n.wrapper = this;
    this._styleList = this.readStyles() || []
  }, i = n.prototype.initialize, n.prototype.initialize = function () {
    return this._stopInitInvalidation != !0 &&
      (Locator.validationManager.queueForValidation(this), this._propertiesInvalidated = !0), this.createChildren(), this.initialized = !0, this
  }, n.prototype.createChildren = function () {
    return this
  }, n.prototype.commitProperties = function () {
    return this
  }, n.prototype.commitStyles = function () {
    return this._element.setAttribute("class", this._styleList.join(" ")), this
  }, n.prototype.readStyles = function () {
    var n = this._element.getAttribute("class");
    return n
      ? n.split(" ")
      : null
  }, n.prototype.hasStyle = function (n) {
    return this._styleList && this._styleList.indexOf(n) != -1
  }, n.prototype.addStyle = function (n) {
    return this._styleList.indexOf(n) === -1 && (this._styleList[this._styleList.length] = n, this.invalidateStyles()), this
  }, n.prototype.addStyleAt = function (n, t) {
    return this._styleList.splice(t, 0, n), this.invalidateStyles(), this
  }, n.prototype.removeStyle = function (n) {
    var t = this._styleList.indexOf(n);
    return t > -1 && (this._styleList.splice(t, 1), this.invalidateStyles()), this
  }, n.prototype.overwriteStyle = function (n, t, i) {
    var r = this._styleList.indexOf(n);
    return r > -1
      ? this._styleList[r] = t
      : i && (this._styleList[this._styleList.length] = t), this.invalidateStyles(), this
  }, n.prototype.setVisible = function (n) {
    return n != this._visible && (this._visible = n, n
      ? this.removeStyle("Hidden")
      : this.addStyle("Hidden")), this
  }, n.prototype.getVisible = function () {
    return this._visible
  }, n.prototype.invalidateProperties = function () {
    return this._propertiesInvalidated = !0, this.validationState != 1 && this.parent && Locator.validationManager.queueForValidation(this), this
  }, n.prototype.invalidateStyles = function () {
    return this._stylesInvalidated = !0, this.validationState == 0 && this.parent && Locator.validationManager.queueForValidation(this), this
  }, n.prototype.validateNow = function (n) {
    return this._propertiesInvalidated && (this._propertiesInvalidated = !1, this.commitProperties()), this._stylesInvalidated &&
      (this._stylesInvalidated = !1, this.commitStyles()), n != !1 && (this.validationState = 0), this
  }, n.Wrapper.prototype = new n, n
}();
ns_gen5_ui.Spinner = function () {
  function n() {
    t.call(this);
    this._element.setAttribute("class", "Spinner FadeIn")
  }

  var t = extend(ns_gen5_ui.Component, n), i = ns_gen5_ui.DomElement;
  return n.prototype.toString = function () {
    return"[Spinner]"
  }, n.prototype.createChildren = function () {
    var n = new i;
    n.setAttribute("class", "image");
    this.appendChild(n)
  }, n.prototype.remove = function () {
    function t() {
      n.parentElement.removeChild(n);
      n.removeEventListener(ANIMATION_END, t)
    }

    var n = this._element;
    this._element.setAttribute("class", "Spinner FadeOut");
    this._element.addEventListener && this._element.addEventListener(ANIMATION_END, t, !1)
  }, n
}();
ns_gen5_ui.Application = function () {
  function n(t) {
    ns_gen5_ui.Component.Wrapper.call(this, t);
    var r = this;
    this._callback_clickHandler = function (n) {
      r._clickHandler(n)
    };
    this._delegate_loadingHandler = new u(this, this.loadingHandler);
    this._delegate_loadingCompleteHandler = new u(this, this.loadingCompleteHandler);
    this._delegate_loadingTimeoutHandler = u.CreateCallback(this, this.loadingTimeoutHandler);
    this._delegate_showStreamingHandler = new u(this, this._showStreamingHandler);
    this.width = f;
    i = n.currentApplication = this;
    a()
  }

  function a() {
    var r, u;
    f = window.innerWidth || document.body.clientWidth;
    e = window.innerHeight || document.body.clientHeight;
    n.currentApplication.width = f;
    r = f < n.widthThreshold
      ? 0
      : 1;
    r != n.currentApplication.widthState && (n.currentApplication.overwriteStyle(l + n.currentApplication.widthState, "",
      !0), n.currentApplication.widthState = r, i.dispatchEvent(new t(t.WIDTH_STATE_CHANGED)), Locator.validationManager.processValidationCycleNow(), n.currentApplication.overwriteStyle(l +
      n.currentApplication.widthState, l + r, !0));
    n.currentApplication.height !== e && (n.currentApplication.height = e, i.dispatchEvent(new t(t.HEIGHT_CHANGED)));
    u = e;
    u && (u -= 40, n.currentApplication._element.style.minHeight = u + "px")
  }

  function o(n) {
    window.removeEventListener("orientationchanged", o);
    window.removeEventListener("resize", o);
    window.addEventListener(n.type, a);
    a(n)
  }

  function p() {
    i.preventUnloading || (i.preventUnloading = !1, $log("Application => Unloading"), i.dispatchEvent(new t(t.UNLOADING)))
  }

  function c(n) {
    n = n || window.event;
    i.suspended = n.type == "focus" || n.type == "focusin"
      ? !1
      : n.type == "blur" || n.type == "focusout"
      ? !0
      : this[s]
      ? !0
      : !1;
    i.suspended
      ? i.dispatchEvent(new t(t.FOCUS_OUT))
      : i.dispatchEvent(new t(t.FOCUS_IN))
  }

  var w = extend(ns_gen5_ui.Component, n), t = ns_gen5_events.ApplicationEvent, u = ns_gen5_util.Delegate, y = ns_gen5_ui.Spinner, r = !1, s, h, v;
  n.prototype.toString = function () {
    return"[Application]"
  };
  n.loadingTimeout = 1e4;
  n.prototype._loadingTimer = null;
  n.prototype._spinner = null;
  n.prototype.height = 0;
  n.prototype.width = 0;
  n.prototype.widthState = -1;
  n.prototype.suspended = !1;
  n.prototype.preventUnloading = !1;
  n.widthThreshold = 550;
  n.prototype.enableUI = function () {
    r || (r = !0, this._element.addEventListener("click",
      this._callback_clickHandler), this._fastClick = FastClick.attach(this._element), this.addEventListener(t.LOADING,
      this._delegate_loadingHandler), this.addEventListener(t.LOADING_COMPLETE, this._delegate_loadingCompleteHandler), this.addEventListener("showStreaming",
      this._delegate_showStreamingHandler))
  };
  n.prototype.disableUI = function () {
    r && (r = !1, this._spinner && (this._spinner.remove(), this._spinner = null), this.removeEventListener(t.LOADING,
      this._delegate_loadingHandler), this.removeEventListener(t.LOADING_COMPLETE,
      this._delegate_loadingCompleteHandler), this._fastClick.destroy(), this._fastClick = null, this._element.removeEventListener("click",
      this._callback_clickHandler))
  };
  var l = "widthState", i, f = window.innerWidth || document.body.clientWidth, e = window.innerHeight || document.body.clientHeight;
  window.addEventListener("orientationchanged", o);
  window.addEventListener("resize", o);
  window.addEventListener("beforeunload", p);
  v = {hidden: "visibilitychange", mozHidden: "mozvisibilitychange", webkitHidden: "webkitvisibilitychange", msHidden: "msvisibilitychange"};
  for (s in v)if (s in document) {
    h = v[s];
    break
  }
  return h
    ? (document.removeEventListener(h, c), document.addEventListener(h, c))
    : "onfocusin"in document
    ? document.onfocusin = document.onfocusout = c
    : window.onfocus = window.onblur = c, n.prototype.loadingHandler = function () {
    r && !this._spinner && (this._spinner = new y, document.body.appendChild(this._spinner._element), this._spinner.initialize(), this._loadingTimer ||
      (this._loadingTimer = setTimeout(this._delegate_loadingTimeoutHandler, n.loadingTimeout)))
  }, n.prototype.loadingTimeoutHandler = function () {
    this.dispatchEvent(new t(t.LOADING_TIMEOUT))
  }, n.prototype.loadingCompleteHandler = function () {
    this._loadingTimer && (clearTimeout(this._loadingTimer), this._loadingTimer = null);
    this._spinner && (this._spinner.remove(), this._spinner = null)
  }, n.prototype._showStreamingHandler = function () {
    this.preventUnloading = !0
  }, n.prototype._clickHandler = function (n) {
    n = n || window.event;
    for (var t = n && n.target; t && t.wrapper;)if (t.wrapper.clickHandler) {
      try {
        t.wrapper.clickHandler(n)
      }
      catch (i) {
        ErrorReporter.Trace(this, i)
      }
      break
    }
    else t = t.parentNode;
    Locator.validationManager.processValidationCycleNow()
  }, n
}();
ns_gen5_ui.ClosableContainer = function () {
  function n() {
    i.call(this)
  }

  var i = extend(ns_gen5_ui.Component, n), t = ns_gen5_ui.Component, r = ns_gen5_ui.TextNode, u = ns_gen5_util.Delegate;
  return n.prototype.toString = function () {
    return"[ClosableContainer]"
  }, n.prototype._button = null, n.prototype._buttonClass = t, n.prototype._container = null, n.prototype._containerClass = t, n.prototype._open = !1, n.prototype._initAppendChildButton = !0, n.prototype._initAppendChildContainer = !1, n.prototype.createChildren = function () {
    this._button = new this._buttonClass;
    this._initAppendChildButton && this.appendChild(this._button);
    this._open && this.initializeContainer()
  }, n.prototype.initializeContainer = function () {
    this._container || (this._container = new this._containerClass, this._initAppendChildContainer && this.appendChild(this._container))
  }, n.prototype.setOpen = function (n) {
    n != this._open && (this._open = n, this._container || this.initializeContainer(), this._container.setVisible(this._open))
  }, n.prototype.getOpen = function () {
    return this._open
  }, n.prototype.clickHandler = function () {
    this.setOpen(!this._open)
  }, n
}();
ns_gen5_ui.StemBaseMixin = function () {
  function i() {
    this.delegate_stemUpdateHandler = new t(this, this.stemUpdateHandler);
    this.delegate_stemDeleteHandler = new t(this, this.stemDeleteHandler);
    this.stem && (this.stem.addEventListener(n.UPDATE, this.delegate_stemUpdateHandler), this.stem.addEventListener(n.DELETE, this.delegate_stemDeleteHandler));
    this.___initialize && this.___initialize()
  }

  function r() {
    if (this.getFirstChild)for (var n = this.getFirstChild(), t; n;)t = n.wrapper, n = n.nextSibling, t && t.recursiveDetatchStem && t.recursiveDetatchStem();
    this.detatchStem()
  }

  function u() {
    this.stem && (this.stem.removeEventListener(n.UPDATE, this.delegate_stemUpdateHandler), this.stem.removeEventListener(n.DELETE,
      this.delegate_stemDeleteHandler), this.stem = null, this.parent && this.parent.removeChild(this))
  }

  function f() {
  }

  function e() {
    this.detatchStem()
  }

  var n = ns_gen5_data.StemEvent, t = ns_gen5_util.Delegate, o = ns_gen5_data.Stem;
  return function () {
    this.stem = null;
    this.___initialize = this.initialize;
    this.initialize = i;
    this.stemUpdateHandler = f;
    this.stemDeleteHandler = e;
    this.detatchStem = u;
    this.recursiveDetatchStem = r
  }
}();
ns_gen5_ui.ComponentStemBase = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_ui.Component, n);
  return ns_gen5_ui.StemBaseMixin.call(n.prototype), n.prototype.toString = function () {
    return"[ComponentStemBase]"
  }, n
}();
ns_gen5_ui.ClosableContainerStemBase = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_ui.ClosableContainer, n);
  return ns_gen5_ui.StemBaseMixin.call(n.prototype), n.prototype.toString = function () {
    return"[ClosableContainerStemBase]"
  }, n
}();
ns_gen5_ui.GenericStemRenderer = function () {
  function n(n) {
    u.call(this, n);
    this.delegate_stemInsertHandler = new f(this, this.stemInsertHandler)
  }

  var u = extend(ns_gen5_ui.ComponentStemBase,
    n), t = ns_gen5_data.StemEvent, s = ns_gen5_data.Stem, f = ns_gen5_util.Delegate, e = ns_gen5_data.Attribute, o = ns_gen5_ui.ComponentStemBase, i, r;
  return n.prototype.toString = function () {
    return"[GenericStemRenderer]"
  }, n.prototype.childType = o, n.prototype.baseIndex = 0, n.prototype.createChildren = function () {
    var i, r, u, f, n, e;
    if (this.stem)for (this.stem.addEventListener(t.INSERT,
      this.delegate_stemInsertHandler), i = this.stem.getChildren(), f = this.childType, n = 0, e = i.length; n < e; n++)(u = i[n]) &&
    (r = new f, r.stem = u, this.appendChild(r))
  }, i = n.prototype.appendChildAt, n.prototype.appendChildAt = function (n, t) {
    return i.call(this, n, t + this.baseIndex)
  }, n.prototype.stemInsertHandler = function (n) {
    var r = n.data, u = r.data[e.ORDER], t = new this.childType, i;
    if (t.stem = r, u)try {
      i = this._element.children[Number(u) + this.baseIndex];
      i
        ? this.insertBefore(t, i)
        : this.appendChild(t)
    }
    catch (f) {
      ErrorReporter.Trace(this, f);
      this.appendChild(t)
    }
    else this.appendChild(t)
  }, n.prototype.setStem = function (n) {
    if (this.stem && this.recursiveDetatchStem(), this.stem = n, this.parent && this.stem) {
      this.stem.addEventListener(t.UPDATE, this.delegate_stemUpdateHandler);
      this.stem.addEventListener(t.DELETE, this.delegate_stemDeleteHandler);
      var i = this;
      Locator.validationManager.callLater(function () {
        i.suspendElementFromDom();
        i.createChildren();
        Locator.validationManager.callPostValidation(function () {
          i.unsuspendElementFromDom()
        })
      })
    }
  }, r = n.prototype.detatchStem, n.prototype.detatchStem = function () {
    this.stem && this.stem.removeEventListener(t.INSERT, this.delegate_stemInsertHandler);
    r.call(this)
  }, n
}();
readit.ReaditConnectionEvent = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.CONNECTED = "connected", n.DISCONNECTED = "disconnected", n.CONNECTION_FAILED = "connectionFailed", n
}();
readit.TransportConnectionEvent = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.CONNECTED = "connected", n.DISCONNECTED = "disconnected", n.CONNECTION_FAILED = "connectionFailed", n
}();
readit.ReaditMessageEvent = function () {
  function n(n, i) {
    t.call(this, n);
    this.message = i
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.MESSAGE_RECEIVED = "messageReceived", n.prototype.toString = function () {
    return"[ReaditMessageEvent type=" + this.type + " message=" + this.message + "]"
  }, n
}();
readit.ReadItMessage = function () {
  function n(n, t, i, r) {
    this.messageType = n;
    this._topic = t;
    this._message = i;
    this._userHeaders = r
  }

  return n.prototype.toString = function () {
    return"[ReaditMessage messageType=" + this.messageType + " message=" + this._message + " topic=" + this._topic + "]"
  }, n.prototype.getMessage = function () {
    return this._message
  }, n.prototype.getTopic = function () {
    return this._topic
  }, n.prototype.getBaseTopic = function () {
    return this._topic.substr(this._topic.lastIndexOf("/") + 1, this._topic.length)
  }, n.prototype.getUserHeaders = function () {
    return this._userHeaders
  }, n.prototype.isInitialTopicLoad = function () {
    return this.messageType === readit.StandardProtocolConstants.INITIAL_TOPIC_LOAD
  }, n
}();
readit.ReaditConnectionStatus = {DISCONNECTED: 0, PENDING: 1, CONNECTED: 2};
readit.StandardProtocolConstants = {RECORD_DELIM: "\x01", FIELD_DELIM: "\x02", MESSAGE_DELIM: "\b", CLIENT_CONNECT: 0, CLIENT_POLL: 1, CLIENT_SEND: 2, INITIAL_TOPIC_LOAD: 20, DELTA: 21, CLIENT_SUBSCRIBE: 22, CLIENT_UNSUBSCRIBE: 23, CLIENT_SWAP_SUBSCRIPTIONS: 26, NONE_ENCODING: 0, ENCRYPTED_ENCODING: 17, COMPRESSED_ENCODING: 18, BASE64_ENCODING: 19, SERVER_PING: 24, CLIENT_PING: 25, CLIENT_ABORT: 28, CLIENT_CLOSE: 29, ACK_ITL: 30, ACK_DELTA: 31, ACK_RESPONSE: 32};
readit.ReadItClient = function () {
  function r() {
    e.call(this);
    this._connectionListStart = null;
    this._connectionListEnd = null;
    this._currentConnectionDetails = null;
    this._currentTransportMethod = null;
    this._connectionStatus = t.DISCONNECTED;
    this._connectionCycleAttempts = 0;
    this.connectionListCycles = 0;
    this.delegate_transportConnectedHandler = new u(this, this.transportConnectedHandler);
    this.delegate_transportConnectionFailedHandler = new u(this, this.transportConnectionFailedHandler);
    this.delegate_transportDisconnectedHandler = new u(this, this.transportDisconnectedHandler);
    this.pushStatusHandler = null;
    "LongPollStatusHandler"in window && (this.pushStatusHandler = new LongPollStatusHandler)
  }

  var e = extend(ns_gen5_events.EventDispatcher,
    r), u = ns_gen5_util.Delegate, i = readit.TransportConnectionEvent, f = readit.ReaditConnectionEvent, t = readit.ReaditConnectionStatus, o = readit.ReadItConnectionDetails, n;
  return r.prototype.toString = function () {
    return"[ReaditClient]"
  }, n = r.prototype, n.addConnectionAttempt = function (n) {
    this._connectionListStart
      ? (this._connectionListEnd.next = n, this._connectionListEnd = n)
      : this._connectionListStart = this._connectionListEnd = n
  }, n.connect = function () {
    this._connectionStatus == t.DISCONNECTED &&
    (this._connectionStatus = t.PENDING, this._connectionCycleAttempts = 0, this._currentConnectionDetails = this._connectionListEnd, this.connectToNext())
  }, n.close = function () {
    this._currentTransportMethod && (this.disposeCurrentTransportMethod(), this._currentTransportMethod.close());
    this._connectionStatus = t.DISCONNECTED
  }, n.connectToNext = function () {
    if (!this._currentConnectionDetails || !(this._currentConnectionDetails = this._currentConnectionDetails.next)) {
      if (this.connectionListCycles > 0 && this._connectionCycleAttempts++ == this.connectionListCycles) {
        readit.ReadItLog.Log("Transport connection cycles completed, connection failed");
        this.close();
        this.dispatchEvent(new f(readit.ReaditConnectionEvent.CONNECTION_FAILED));
        return
      }
      this._currentConnectionDetails = this._connectionListStart
    }
    this.disposeCurrentTransportMethod();
    this._currentTransportMethod = new this._currentConnectionDetails.transportMethod;
    this._currentTransportMethod.addEventListener(i.CONNECTED, this.delegate_transportConnectedHandler);
    this._currentTransportMethod.addEventListener(i.CONNECTION_FAILED, this.delegate_transportConnectionFailedHandler);
    this._currentTransportMethod.addEventListener(i.DISCONNECTED, this.delegate_transportDisconnectedHandler);
    this._currentTransportMethod.setConnectionDetails(this._currentConnectionDetails);
    this._currentTransportMethod.setMessageDispatcher(this);
    this.logPushStatus(pushConnectionStatusEnum.ATTEMPTINGCONNECTION, this.getCurrentConnectionHost());
    this._currentTransportMethod.connect()
  }, n.disposeCurrentTransportMethod = function () {
    this._currentTransportMethod && (this._currentTransportMethod.removeEventListener(i.CONNECTED,
      this.delegate_transportConnectedHandler), this._currentTransportMethod.removeEventListener(i.CONNECTION_FAILED,
      this.delegate_transportConnectionFailedHandler), this._currentTransportMethod.removeEventListener(i.DISCONNECTED,
      this.delegate_transportDisconnectedHandler))
  }, n.subscribe = function (n) {
    if (this._connectionStatus == t.CONNECTED)try {
      this._currentTransportMethod.subscribe(n)
    }
    catch (i) {
      ErrorReporter.Trace(this, i)
    }
  }, n.unsubscribe = function (n) {
    if (this._connectionStatus == t.CONNECTED)try {
      this._currentTransportMethod.unsubscribe(n)
    }
    catch (i) {
      ErrorReporter.Trace(this, i)
    }
  }, n.send = function (n, i) {
    this._connectionStatus == t.CONNECTED && this._currentTransportMethod.send(n, i)
  }, n.swapSubscription = function (n, i) {
    if (this._connectionStatus == t.CONNECTED)try {
      this._currentTransportMethod.swapSubscription(n, i)
    }
    catch (r) {
      ErrorReporter.Trace(this, r)
    }
  }, n.getConnectionID = function () {
    return this._connectionStatus == t.CONNECTED
      ? this._currentTransportMethod.getConnectionId()
      : null
  }, n.getConnected = function () {
    return this._connectionStatus == t.CONNECTED
  }, n.getConnectionStatus = function () {
    return this._connectionStatus
  }, n.getTransportSuspended = function () {
    return this._currentTransportMethod.suspended
  }, n.getCurrentConnectionHost = function () {
    return this._currentConnectionDetails
      ? this._currentConnectionDetails.host
      : this._connectionListEnd.host
  }, n.getCurrentConnectionDetails = function () {
    return this._currentTransportMethod.getConnectionDetails()
  }, n.logPushStatus = function (n, t) {
    try {
      this.pushStatusHandler && this.pushStatusHandler.log(n, 0, t)
    }
    catch (i) {
    }
  }, n.transportConnectedHandler = function () {
    this._connectionStatus = t.CONNECTED;
    this.logPushStatus(pushConnectionStatusEnum.CONNECTED, this.getCurrentConnectionHost());
    this.dispatchEvent(new f(readit.ReaditConnectionEvent.CONNECTED))
  }, n.transportConnectionFailedHandler = function () {
    this.logPushStatus(pushConnectionStatusEnum.DISCONNECTED, this.getCurrentConnectionHost());
    this.connectToNext()
  }, n.transportDisconnectedHandler = function () {
    this.close();
    this.logPushStatus(pushConnectionStatusEnum.DISCONNECTED, this.getCurrentConnectionHost());
    this.dispatchEvent(new f(readit.ReaditConnectionEvent.DISCONNECTED))
  }, r
}();
readit.ReadItLog = new function () {
  var n = ns_gen5_util.LogEntry;
  this._enabled = !0;
  this._log = [];
  this.getLog = function () {
    return this._log
  };
  this.Log = function (t) {
    if (this._log.push(new n(t)), this._enabled)try {
      var i = new Date;
      $log(i.getHours() + ":" + i.getMinutes() + ":" + i.getSeconds() + "." + i.getMilliseconds() + " -> " + t)
    }
    catch (r) {
    }
  };
  this.SetEnabled = function (n) {
    this._enabled = n
  }
};
pushConnectionStatusEnum = {ATTEMPTINGCONNECTION: 1, CONNECTED: 2, FIRSTATTEMPTFAILED: 3, ALLRETRYSFAILED: 4, DISCONNECTED: 5, DELTA: 6};
readit.ReadItConnectionDetails = function () {
  function n(n, t, i, r, u) {
    this.host = n;
    this.port = t;
    this.transportMethod = i;
    this.defaultTopic = r;
    this.uid = u;
    this.next = null
  }

  return n.prototype.toString = function () {
    return"[host:" + this.host + ", port:" + this.port + ", topic:" + this.defaultTopic + "]"
  }, n
}();
readit.HttpTransportMethod = function () {
  function t() {
    u.call(this);
    this._poller = null;
    this._messageDispatcher = null;
    this._connectionTimeout = 0;
    this._url = "";
    this._requestActive = !1;
    this._requestQueue = [];
    this._connectionDetails = {};
    this._connectionID = "";
    this._sID = "";
    this._sequence = 0;
    this._connected = !1;
    this._hasNativeXmlHttp = !1;
    this._transportIsSupported = this.checkXmlHttpAvailable();
    this._activeXVersion = null;
    this.instanceid = t.count++;
    this.TRAILING = "/pow2/";
    this.CONNECTION_TIMEOUT_LIMIT = 15e3;
    this.TANSPORT_TIMEOUT = 20;
    this._delegate_resume = new f(this, this._resume)
  }

  var u = extend(ns_gen5_events.EventDispatcher,
    t), i = ns_gen5_ui.Application, r = ns_gen5_events.ApplicationEvent, f = ns_gen5_util.Delegate, e = {L: "1", M: "2"}, n;
  return t.prototype.toString = function () {
    return"[HttpTransportMethod]"
  }, t.prototype.suspended = !1, t.pollDelay = 10, t.count = 0, n = t.prototype, n.connect = function () {
    var t, n;
    if (this._transportIsSupported)try {
      t = this;
      this._connectionTimeout = setTimeout(function () {
        t.connectionFailed("timeout after " + t.CONNECTION_TIMEOUT_LIMIT + "ms")
      }, this.CONNECTION_TIMEOUT_LIMIT);
      this._url = this._connectionDetails.host + ":" + this._connectionDetails.port + this.TRAILING;
      this.log("Attempting connection to " + this._url);
      n = this.getRequest({method: readit.StandardProtocolConstants.CLIENT_CONNECT, transporttimeout: this.TANSPORT_TIMEOUT, type: "F", topic: this._connectionDetails.defaultTopic});
      n.onreadystatechange = function () {
        if (n.readyState == 4) {
          if (clearTimeout(t._connectionTimeout), n.status == 200) {
            var i = n.responseText.split("\x02");
            i[0] == "100" && t.handshakeHandler(i[1]);
            i[0] == "111" && t.connectionFailed("connection rejected 111")
          }
          else t.connectionFailed("Connection Rejected - Invalid response status:" + n.status);
          n.onreadystatechange = null
        }
      };
      n.send(n.params || "")
    }
    catch (i) {
      this.connectionFailed("Unable to open Socket.")
    }
    else this.connectionFailed("XML Http Transport not supported.")
  }, n.subscribe = function (n) {
    this.put(this.getRequest({method: readit.StandardProtocolConstants.CLIENT_SUBSCRIBE, topic: n, s: this._sequence++}))
  }, n.unsubscribe = function (n) {
    this.put(this.getRequest({method: readit.StandardProtocolConstants.CLIENT_UNSUBSCRIBE, topic: n, s: this._sequence++}))
  }, n.send = function (n, t) {
    this.put(this.getRequest({method: readit.StandardProtocolConstants.CLIENT_SEND, data: encodeURIComponent(t), topic: n, s: this._sequence++}))
  }, n.swapSubscription = function (n, t) {
    this.put(this.getRequest({method: readit.StandardProtocolConstants.CLIENT_SWAP_SUBSCRIPTIONS, subs: n, unsubs: t, s: this._sequence++}))
  }, n.close = function () {
    this.put(this.getRequest({method: readit.StandardProtocolConstants.CLIENT_CLOSE}));
    this.dispose();
    this.dispatchEvent(new readit.TransportConnectionEvent(readit.TransportConnectionEvent.DISCONNECTED))
  }, n.setMessageDispatcher = function (n) {
    this._messageDispatcher = n
  }, n.getConnectionDetails = function () {
    return this._connectionDetails
  }, n.setConnectionDetails = function (n) {
    this._connectionDetails = n
  }, n.getConnected = function () {
    return this._connected
  }, n.connectionFailed = function (n) {
    this.log("http connection (" + this.instanceid + ", " + this._connectionDetails + ") failed - " + n);
    var t = this._connected;
    this.dispose();
    t
      ? this.dispatchEvent(new readit.TransportConnectionEvent(readit.TransportConnectionEvent.DISCONNECTED))
      : this.dispatchEvent(new readit.TransportConnectionEvent(readit.TransportConnectionEvent.CONNECTION_FAILED))
  }, n.getRequest = function (n) {
    var t, i, r;
    t = this._hasNativeXmlHttp
      ? new XMLHttpRequest
      : new ActiveXObject(this._activeXVersion);
    try {
      t.open("POST", this._url + "?sid=" + (this._sID || "0") + "&uid=" + (this._connectionDetails.uid || "yyy"), !0);
      this._connectionID && (n.clientid = this._connectionID);
      i = "";
      for (r in n)i += (i.length > 0
        ? "&"
        : "") + r + "=" + encodeURIComponent(n[r]);
      return t.params = i, t
    }
    catch (u) {
      ErrorReporter.Trace(this, u)
    }
    return null
  }, n.put = function (n) {
    var t, i;
    if (n !== null && this._requestQueue.push(n), this._requestActive || this.suspended) {
      this.suspended && readit.ReadItLog.Log("HttpTransportMethod.put() -> suspended");
      return
    }
    if (this._requestQueue.length > 0)t = this._requestQueue.shift();
    else return;
    this._requestActive = !0;
    i = this;
    t.onreadystatechange = function () {
      t.readyState == 4 && (t.status == 0
        ? i.connectionFailed("Connection lost during put.")
        : t.status == 200 && t.responseText && i.pollerCompleteHandler(t.responseText), i.queuedRequestCompleteHandler(), t.onreadystatechange = null)
    };
    "params"in t
      ? t.send(t.params || "")
      : t.send("")
  }, n.poll = function () {
    if (this._connected) {
      var n = this;
      i.currentApplication && i.currentApplication.suspended
        ? this.suspended
        ? readit.ReadItLog.Log("HttpTransportMethod.poll() -> suspended")
        : this.suspended ||
        (readit.ReadItLog.Log("HttpTransportMethod.poll() -> suspending"), this.suspended = !0, i.currentApplication.addEventListener(r.FOCUS_IN,
          this._delegate_resume))
        : (this._poller &&
        (this._poller.onreadystatechange = null), this._poller = this.getRequest({method: readit.StandardProtocolConstants.CLIENT_POLL}), this._poller.onreadystatechange = function () {
        n._poller.readyState == 4 && (n._poller.status == 0 || n._poller.status == 12029
          ? n._connected && n.connectionFailed("Connection lost during poll statusCode:'" + n._poller.status + "' statusText:'" + n._poller.statusText + "'")
          : n._poller.status == 200 && n.pollerCompleteHandler(n._poller.responseText))
      }, "params"in this._poller
        ? this._poller.send(this._poller.params || "")
        : this._poller.send(""))
    }
  }, n._resume = function () {
    readit.ReadItLog.Log("HttpTransportMethod.poll() -> resuming");
    i.currentApplication.removeEventListener(r.FOCUS_IN, this._delegate_resume);
    this.suspended = !1;
    this._requestQueue.length > 0 && this.put(null);
    this.poll()
  }, n.dispose = function () {
    if (this._connected = !1, this._poller) {
      try {
        this._poller.abort()
      }
      catch (n) {
      }
      this._poller.onreadystatechange = null;
      this._poller = null
    }
    this._messageDispatcher = null;
    clearTimeout(this.connectionTimer)
  }, n.checkXmlHttpAvailable = function () {
    try {
      return new XMLHttpRequest, this._hasNativeXmlHttp = !0, !0
    }
    catch (n) {
    }
    return!1
  }, n.getConnectionId = function () {
    return this._connected
      ? this._connectionID
      : ""
  }, n.log = function (n) {
    readit.ReadItLog.Log("HttpTransportMethod -> " + n)
  }, n.handshakeHandler = function (n) {
    this._requestActive = !1;
    this._connectionID = n;
    this._connectionDetails.connectionID = n;
    this._sID = n
      ? e[n.charAt(0).toUpperCase()] || "0"
      : "0";
    this._connected = !0;
    this.log(this.instanceid + " connected as " + this._connectionID + ". " + this._connectionDetails);
    this.dispatchEvent(new readit.TransportConnectionEvent(readit.TransportConnectionEvent.CONNECTED));
    var i = this;
    setTimeout(function () {
      i.poll()
    }, t.pollDelay)
  }, n.pollerCompleteHandler = function (n) {
    var r, i, u, s;
    if (n) {
      r = n.split(readit.StandardProtocolConstants.MESSAGE_DELIM);
      do {
        i = r.shift();
        u = i.charCodeAt(0);
        switch (u) {
          case readit.StandardProtocolConstants.INITIAL_TOPIC_LOAD:
          case readit.StandardProtocolConstants.DELTA:
            var f = i.split(readit.StandardProtocolConstants.RECORD_DELIM), e = f[0].split(readit.StandardProtocolConstants.FIELD_DELIM), o = e.shift(), h = o.substr(1,
              o.length), c = i.substr(f[0].length + 1);
            this._messageDispatcher !== null && this._messageDispatcher.dispatchEvent(new readit.ReaditMessageEvent(readit.ReaditMessageEvent.MESSAGE_RECEIVED,
              new readit.ReadItMessage(u, h, c, e)));
            break;
          case readit.StandardProtocolConstants.CLIENT_ABORT:
            this.connectionFailed("Connection client abort during poll.");
            break;
          case readit.StandardProtocolConstants.CLIENT_CLOSE:
            this.connectionFailed("Connection client close during poll.")
        }
      } while (r.length)
    }
    this._connected && (s = this, setTimeout(function () {
      s.poll()
    }, t.pollDelay))
  }, n.queuedRequestCompleteHandler = function () {
    this._requestActive = !1;
    this._requestQueue.length && this.put(null)
  }, n.getTransportSuspended = function () {
    return this.suspended
  }, t
}();
readit.HttpTransportMethodLegacy = function () {
  function n() {
    t.call(this);
    this.TRAILING = "/pow/"
  }

  var t = extend(readit.HttpTransportMethod, n);
  return n.prototype.toString = function () {
    return"[HttpTransportMethodLegacy]"
  }, n.prototype.swapSubscription = function (n, t) {
    this.subscribe(n);
    this.unsubscribe(t)
  }, n.prototype.getRequest = function (n) {
    var t, i;
    t = this._hasNativeXmlHttp
      ? new XMLHttpRequest
      : new ActiveXObject(this._activeXVersion);
    try {
      t.open("POST", this._url, !0);
      n.uid = this._connectionDetails.uid;
      typeof this._connectionID != "undefined" && (n.clientid = this._connectionID);
      n["Content-Type"] = " ";
      n["Accept-Language"] = " ";
      for (i in n)t.setRequestHeader(i, n[i]);
      return t
    }
    catch (r) {
      ErrorReporter.Trace(this, r)
    }
    return null
  }, n
}();
ns_betslip = {};
ns_betslip.BetSlipEvent = function () {
  function n(n) {
    t.call(this, n)
  }

  var t = extend(ns_gen5_events.Event365, n);
  return n.prototype.toString = function () {
    return"[BetSlipEvent type=" + this.type + "]"
  }, n.prototype.data = null, n.PARTICIPANT_REMOVED_FROM_BETSLIP = "participantRemovedFromBetSlip", n.TOTE_COMBINATION_CHANGED = "totecombinationchanged", n
}();
ns_betslip.BetItem = function () {
  function n() {
    this._suspended = !1;
    this._suspendChanged = !0
  }

  return n.prototype.toString = function () {
    return"[BetItem]"
  }, n.prototype.updateItem = function () {
    var n = new ns_betslip.BetConstructor;
    this._constructString = n.setConstructOnBetItem(this)
  }, n.prototype.constructString = function (n) {
    this._constructString = n
  }, n.prototype.partType = function (n) {
    this._partType = n
  }, n.prototype.participantID = function (n) {
    this._participantID = n
  }, n.prototype.odds = function (n) {
    this._odds = n
  }, n.prototype.handicap = function (n) {
    this._handicap = n
  }, n.prototype.classificationID = function (n) {
    this._classificationID = n
  }, n.prototype.fixtureID = function (n) {
    this._fixtureID = n
  }, n.prototype.marketID = function (n) {
    this._marketID = n
  }, n.prototype.uid = function (n) {
    this._uid = n
  }, n.prototype.subscribe = function (n) {
    this.subscribe = n
  }, n.prototype.betsource = function (n) {
    this.betsource = n
  }, n.prototype.pom = function (n) {
    this._pom = n
  }, n.prototype.oddsTypeOverride = function (n) {
    this._oddsTypeOverride = n
  }, n.prototype.decimalPlaces = function (n) {
    this._decimalPlaces = n
  }, n.prototype.toteCombination = function (n) {
    this._toteCombination = n
  }, n
}();
ns_betslip.BetSlipManager = function () {
  function n() {
    this._betSlipInterface = null
  }

  return n.prototype.toString = function () {
    return"[BetSlipManager]"
  }, n.prototype.setBetSlipInterface = function (n) {
    this._betSlipInterface = n
  }, n.prototype.addBet = function (n, t) {
    n && this._betSlipInterface && this._betSlipInterface.AddBet && this._betSlipInterface.AddBet({ConstructString: n.constructString, Target: t})
  }, n.prototype.deleteBet = function (n) {
    n && this._betSlipInterface && this._betSlipInterface.DeleteBet && this._betSlipInterface.DeleteBet({ConstructString: n.constructString})
  }, n.prototype.isSelected = function (n) {
    return n && this._betSlipInterface && this._betSlipInterface.IsSelected
      ? this._betSlipInterface.IsSelected({Id: n})
      : !1
  }, n
}();
ns_betslip.BetConstructor = function () {
  function n() {
  }

  return n.prototype.toString = function () {
    return"[BetConstructor]"
  }, n.prototype.setConstructOnBetItem = function (n) {
    var t, i = "#", r = "x", u = "|", f;
    return t = "pt=" + n.partType + i, t += "o=" + n.odds + i, t += "f=" + n.fixtureID + i, t += "fp=" + n.participantID + i, t += "so=" + i, t += "c=" +
      n.classificationID + i, t += n.handicap.length > 0
      ? "ln=" + n.handicap + i
      : "", f = n.oddsTypeOverride
      ? r + n.oddsTypeOverride.toString() + r + n.decimalPlaces
      : "", t += u + "TP=BS" + n.participantID + f + i, t += n.toteCombination
      ? "atc=" + n.toteCombination + i
      : "", n.pom && n.pom === "1" && (t = "pom=Y" + u + t), n.constructString = t, n
  }, n
}();
ns_gen5_data.StreamDataProcessor = function () {
  function n() {
    o.call(this);
    this._retryInterval = Math.random() * 5e3;
    this._retryInterval < 1e3 && (this._retryInterval = 1e3);
    this._subscriptionQueue = [];
    this.delegate_serverConnectHandler = new r(this, this._serverConnectHandler);
    this.delegate_serverDataHandler = new r(this, this._serverDataHandler);
    this.delegate_applicationUnloadingHandler = new r(this, this._applicationUnloadingHandler);
    this.callback_idleTimerHandler = r.CreateCallback(this, this._idleTimerHandler)
  }

  var o = extend(ns_gen5_events.EventDispatcher,
    n), s = ns_gen5_events.Event365, r = ns_gen5_util.Delegate, h = readit.ReadItClient, c = readit.ReadItConnectionDetails, l = readit.HttpTransportMethod, a = readit.HttpTransportMethodLegacy, i = readit.ReaditConnectionEvent, e = readit.ReaditMessageEvent, g = readit.ReadItMessage, nt = ns_gen5_data.DataMessage, v = ns_gen5_data.DataUtil, u = ns_gen5_data.DataMessageType, tt = ns_gen5_data.Stem, y = ns_gen5_data.FixtureStem, f = ns_gen5_data.Attribute, t = ns_gen5_data.StreamDataProcessorEvent, p = ns_gen5_util.Timer, w = ns_gen5_util.TimerEvent, b = ns_gen5_events.ApplicationEvent, k = ns_gen5_ui.Application, d = {"1": a, "2": l};
  return n.prototype.toString = function () {
    return"[StreamDataProcessor]"
  }, n.prototype._serverConnection = null, n.prototype._connectedPublisher = null, n.prototype._reconnected = !1, n.prototype._idleTime = 8e4, n.prototype._idleTimerID = -1, n.prototype._reConnectTimer = null, n.prototype._pendingConnect = !1, n.prototype._maxConnectionAttempts = 1, n.prototype._connectionAttempts = 0, n.prototype._applicaitonUnloading = !1, n.prototype._initialized = !1, n.prototype.connect = function () {
    var n, u, r, f, t;
    if (this._initialized || this._initialize(), !this._pendingConnect) {
      if (this._serverConnection && this._serverConnection.getConnected())try {
        this.close()
      }
      catch (o) {
      }
      for (this._pendingConnect = !0, n = this._serverConnection = new h, n.connectionListCycles = 1, u = Locator.config.getConnectionDetails(), r = 0, f = u.length; r <
        f; r++)t = u[r], n.addConnectionAttempt(new c(t.host, t.port, d[t.transportMethod], t.defaultTopic, t.userId));
      n.addEventListener(i.CONNECTED, this.delegate_serverConnectHandler);
      n.addEventListener(i.DISCONNECTED, this.delegate_serverConnectHandler);
      n.addEventListener(i.CONNECTION_FAILED, this.delegate_serverConnectHandler);
      n.addEventListener(e.MESSAGE_RECEIVED, this.delegate_serverDataHandler);
      n.connect()
    }
  }, n.prototype.close = function () {
    this._serverConnection &&
    (this._serverConnection.removeEventListener(i.CONNECTED, this.delegate_serverConnectHandler), this._serverConnection.removeEventListener(i.DISCONNECTED,
      this.delegate_serverConnectHandler), this._serverConnection.removeEventListener(i.CONNECTION_FAILED,
      this.delegate_serverConnectHandler), this._serverConnection.removeEventListener(e.MESSAGE_RECEIVED,
      this.delegate_serverDataHandler), this._serverConnection.close())
  }, n.prototype.subscribe = function (n, t) {
    t != !1 && t != !0 && (t = !0);
    t && (n += "//");
    this._serverConnection && this._serverConnection.getConnected()
      ? this._serverConnection.subscribe(n)
      : this._subscriptionQueue.push(n)
  }, n.prototype.unsubscribe = function (n) {
    this._serverConnection && this._serverConnection.getConnected() && this._serverConnection.unsubscribe(n)
  }, n.prototype.swapSubscriptions = function (n, t) {
    this._serverConnection.getConnected()
      ? this._serverConnection.swapSubscription(n, t)
      : this._subscriptionQueue.push(n)
  }, n.prototype._initialize = function () {
    k.currentApplication.addEventListener(b.UNLOADING, this.delegate_applicationUnloadingHandler);
    this._initialized = !0
  }, n.prototype._resetIdleTimer = function () {
    clearTimeout(this._idleTimerID);
    this._idleTimerID = setTimeout(this.callback_idleTimerHandler, this._idleTime)
  }, n.prototype._processSubscriptionQueue = function () {
    if (this._subscriptionQueue.length > 0)try {
      this._serverConnection.subscribe(this._subscriptionQueue.join(","));
      this._subscriptionQueue.length = 0
    }
    catch (n) {
      ErrorReporter.Trace(this, n)
    }
  }, n.prototype._serverConnectHandler = function (n) {
    if (this._pendingConnect = !1, $log(n,
      this._serverConnection.getConnected()), this._serverConnection.getConnected())this._connectedPublisher = this._serverConnection.getConnectionID(), this._connectedPublisher = this._connectedPublisher.substring(0,
      this._connectedPublisher.indexOf("-")), this.dispatchEvent(new t(t.CONNECTED, this._serverConnection.getCurrentConnectionDetails())), this._reconnected
      ? (this._subscriptionQueue.length = 0, this.dispatchEvent(new t(t.SERVER_RECONNECT)))
      : this._reconnected = !0, this._resetIdleTimer(), this._processSubscriptionQueue();
    else {
      this._connectedPublisher = "not connected.";
      this._serverConnection.logPushStatus(pushConnectionStatusEnum.ALLRETRYSFAILED, this._serverConnection.getCurrentConnectionHost());
      var i;
      this._reconnected || (i = new t(t.CONNECTION_FAILED, this._connectionAttempts), this.dispatchEvent(i), i.retry || (this._subscriptionQueue.length = 0));
      (this._reconnected || i && i.retry) && (this._applicaitonUnloading || (this._reConnectTimer ||
        (this._reConnectTimer = new p(this._retryInterval), this._reConnectTimer.addEventListener(w.COMPLETE,
          new r(this, this._reConnectHandler))), $log("reconnect in",
        this._retryInterval), this._reConnectTimer.reset(), this._reConnectTimer.start()), this._idleTimerID > -1 && clearTimeout(this._idleTimerID));
      this._connectionAttempts++
    }
  }, n.prototype._applicationUnloadingHandler = function () {
    this._applicaitonUnloading = !0
  }, n.prototype._serverDataHandler = function (n) {
    var t = this;
    Locator.validationManager.callLater(function () {
      t._serverDataHandler_later(n)
    })
  }, n.prototype._serverDataHandler_later = function (n) {
    var e, p, r, h, l, i;
    this._resetIdleTimer();
    e = n.message;
    p = e.getMessage();
    e.messageType == readit.StandardProtocolConstants.INITIAL_TOPIC_LOAD
      ? r = e.getTopic()
      : (r = e.getBaseTopic(), this._serverConnection.logPushStatus(pushConnectionStatusEnum.DELTA, this._serverConnection.getCurrentConnectionHost()));
    var o = v.ParseMessage(p, r), c = o.type, b = o.item;
    if (o.info && (h = o.info, l = h[f.TMR_SERVER], l && Locator.timeManager.setServerTime(l), r == "EMPTY" && h[f.EMPTY_TOPIC_ID] &&
      (r = h[f.EMPTY_TOPIC_ID]), this.dispatchEvent(new t(t.INFO_UPDATED, h))), c == u.SNAPSHOT)this.dispatchEvent(new s(r));
    else if (c == u.UPDATE)i = Locator.treeLookup.getReference(r), i && i.update(b);
    else if (c == u.INSERT) {
      var a = e.getTopic(), w = a.lastIndexOf("/"), k = a.lastIndexOf("/", w - 1) + 1, d = a.slice(k, w);
      i = Locator.treeLookup.getReference(d);
      i && i.insert(o, o.nodeType == f.EVENT
        ? y
        : null)
    }
    else c == u.DELETE && (i = Locator.treeLookup.getReference(r), i && i.remove())
  }, n.prototype._idleTimerHandler = function () {
    $log("StreamDataProcessor.idleTimeout => idleTimeout, TransportSuspended:" + this._serverConnection.getTransportSuspended());
    this._serverConnection.getTransportSuspended() || (this.close(), this.connect())
  }, n.prototype._reConnectHandler = function () {
    $log("StreamDataProcessor.reconnect");
    this.connect()
  }, n
}();
Locator = {};
Locator.treeLookup = function () {
  return new ns_gen5_data.TreeLookup
}();
Locator.subscriptionManager = function () {
  var n = new ns_gen5_data.SubscriptionManager, t = new ns_gen5_data.StreamDataProcessor;
  return n.setStreamDataProcessor(t), n
}();
Locator.validationManager = function () {
  return new ns_gen5_validation.ValidationManager
}();
Locator.betSlipManager = function () {
  return new ns_betslip.BetSlipManager
}();
Locator.timeManager = function () {
  return new ns_gen5_util.TimeManager
}();
Locator.manifestManager = function () {
  return new ns_gen5_util.ManifestManager(manifest)
}();
Locator.user = function () {
  return new ns_gen5_data.User
}();
Locator.languageResource = function () {
  return new ns_gen5_language.Resource
}();
Locator.config = function () {
  return new ns_gen5_data.Configuration
}();
Locator.inplayEvents = function () {
  return new ns_gen5_events.EventDispatcher
}();
Locator.participantEvents = function () {
  return new ns_gen5_events.EventDispatcher
}();
Locator.otsReport = function () {
  return new ns_gen5_util.OTSReport
}()
/*
 //@ sourceMappingURL=gen5base.js.map
 */